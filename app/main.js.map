{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/spa-dom/jsx.js","webpack:///./src/js/lib/component.js","webpack:///./src/js/app.js","webpack:///./node_modules/cjs-emitter/index.js","webpack:///./src/js/lib/spinner.js","webpack:///./src/js/lib/components/list.js","webpack:///./src/js/lib/api/backend.js","webpack:///./node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack:///./src/js/lib/api/shared.backend.js","webpack:///../plugin-backend-tv-stalker/src/js/stalker.js","webpack:///../plugin-backend-tv-stalker/node_modules/cjs-emitter/index.js","webpack:///./src/js/config.js","webpack:///./src/js/lib/api/statuses.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/inheritsLoose.js","webpack:///./src/js/lib/components/select.js","webpack:///../plugin-backend-tv-stalker/src/js/epg.class.js","webpack:///../plugin-backend-tv-stalker/src/js/data.storage.js","webpack:///./src/js/lib/components/header.js","webpack:///./src/js/main.js","webpack:///./node_modules/spa-gettext/index.js","webpack:///./node_modules/cjs-gettext/index.js","webpack:///./src/js/lib/components/tab-set.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./node_modules/regenerator-runtime/runtime-module.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///./src/js/lib/api/stalker.api.unsecure.js","webpack:///./src/js/lib/api/device.api.js","webpack:///./src/js/pages/login.js","webpack:///./node_modules/spa-keys/index.js","webpack:///./node_modules/cjs-format/index.js","webpack:///./src/js/lib/components/input.js","webpack:///./src/js/lib/components/button.js","webpack:///./src/js/pages/channels.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./src/js/lib/api/tv.provider.js","webpack:///../plugin-backend-tv-stalker/src/js/main.js","webpack:///../plugin-backend-tv-stalker/src/js/channel.class.js","webpack:///../plugin-backend-tv-stalker/src/js/daemon.stalker.js","webpack:///../plugin-backend-tv-stalker/src/js/leanback.js","webpack:///../plugin-backend-tv-stalker/node_modules/magcore-plugin-content-board/index.js","webpack:///./src/js/lib/player.js","webpack:///./src/js/lib/components/channel.list.js","webpack:///./src/js/lib/components/program.list.js","webpack:///./src/js/pages/profile.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","dom","tag","tagName","attributes","content","$node","index","argument","links","document","createElement","link","arguments","length","appendChild","createTextNode","Emitter","require","Component","config","classList","modifiers","self","this","private","hidden","focusable","focused","forEach","modifier","push","className","join","add","apply","events","addListeners","constructor","defineProperties","set","nodeClass","setAttribute","onfocus","event","focus","emit","onblur","remove","blur","addEventListener","removeAttribute","removeEventListener","activeElement","hide","show","child","$parent","parentNode","removeChild","app","addListener","callback","once","onceWrapper","removeListener","callbacks","filter","fn","undefined","Array","slice","jsxDomTag","html","window","q","List","_this","render","data","$item","target","click","defaultPrevented","$focusItem","clearTimeout","scrollTimeout","setTimeout","$fragment","createDocumentFragment","internals","isArray","lastChild","focusIndex","dataItem","dataset","$value","itemClass","Number","$target","children","textContent","ministraApi","host","USERDATA_NAME","ERROR_CODES","map","core","backend","request","stalker","lang","language","oncredenitalsrequired","STATE_AUTHORIZED","STATE_NOT_AUTHORIZED","init","Promise","resolve","userData","JSON","parse","localStorage","getItem","assign","session","authHost","user","login","userLogin","ping","then","state","catch","error","credentials","address","activationCode","userDataToSave","password","reject","auth","error_description","refreshToken","accessToken","userId","setItem","stringify","signOut","removeItem","location","reload","getSettings","onload","result","onerror","getProfileInfo","getThemeData","themeAlias","theme","getAllUserInfo","_getAllUserInfo","_asyncToGenerator2","default","_regenerator","mark","_callee","profile","wrap","_context","prev","next","sent","settings","themes","alias","logoFilename","logoPath","abrupt","stop","obj","instance","LAST_CHANNELS_ADD","LAST_CHANNELS_UPDATE","LAST_CHANNELS_DELETE","totalChannels","Channel","Epg","storage","instanceList","INIT_CHANNELS_LIMIT","BACKGROUND_INTERVAL_TO","BACKGROUND_INTERVAL_FROM","EMPTY_INTERVAL_COUNT","emptyCounter","addCount","updateCount","deleteCount","tempChannelsData","intervals","deleteChannelsHandler","Date","response","timestamp","list","ch","indexOf","id","provider","updateChannelsHandler","hash","updated","getChannels","url","now","offset","paging","total","eventName","update","Provider","backgroungCheckInterval","message","type","addChannelsInterval","setInterval","concat","deleteChannelsInterval","updateChannelsInterval","UPDATE_INTERVALS_DELAY","reg","favorite","channel","genre","byName","sort","itemA","itemB","number","pvr","local_pvr","search","RegExp","matchName","match","matchNumber","toString","updateChannelsList","getCategories","getLastChannelId","cb","method","getEpgLink","channelId","epgId","getChannelsEpg","multiple","channelArray","params","channels","from","to","Math","round","encodeURIComponent","keys","targetData","epgData","destroy","splice","startBackgroundCheck","getRandomTimeout","seconds","floor","random","previousCount","stopBackgroundCheck","navigator","split","toLowerCase","supportedLanguages","code","title","protocol","programListUpdateInterval","saveLastChannelTimeout","licenseKeyLength","errors","ERROR_NEED_LICENSE_KEY","ERROR_ACCOUNT_DISABLED","ERROR_WRONG_LICENSE_KEY","ERROR_WRONG_LOGIN","ERROR_WRONG_META_DATA","ERROR_WRONG_OPERATOR_ID","Automatic activation code issuing disabled for user.","Account is disabled","License key not found","Username or password is incorrect","Meta data mismatch","Operator ID mismatch","_defineProperties","props","descriptor","configurable","writable","Constructor","protoProps","staticProps","subClass","superClass","__proto__","__filename","Select","innerText","label","_Component","_assertThisInitialized2","current","element","array","Error","downloadable","start","end","archive","in_archive","getLink","propertyName","findByNumber","prop","menu","text","gettext","action","tabSet","pages","languageSelect","toUpperCase","focus:item","src","header","findIndex","userName","$userName","logo","path","$logo","$tvChannel","TabSet","spinner","load","body","userInfo","Gettext","loader","prepare","_","pgettext","ngettext","defaultLanguage","xhr","ext","XMLHttpRequest","responseText","ontimeout","open","send","meta","msgId","context","plural","evalResult","eval","previous","switch","tab","g","Function","hadRuntime","regeneratorRuntime","getOwnPropertyNames","oldRuntime","e","global","Op","hasOwn","$Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","inModule","runtime","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","GeneratorFunctionPrototype","Generator","GeneratorFunction","displayName","isGeneratorFunction","genFun","ctor","setPrototypeOf","awrap","arg","__await","defineIteratorMethods","AsyncIterator","async","innerFn","outerFn","tryLocsList","iter","done","reverse","pop","Context","reset","skipTempReset","_sent","delegate","tryEntries","resetTryEntry","charAt","isNaN","rootRecord","completion","rval","dispatchException","exception","handle","loc","caught","record","entry","tryLoc","hasCatch","hasFinally","catchLoc","finallyLoc","finallyEntry","complete","afterLoc","finish","thrown","delegateYield","iterable","resultName","nextLoc","protoGenerator","generator","_invoke","doneResult","delegateResult","maybeInvokeDelegate","tryCatch","makeInvokeMethod","err","previousPromise","callInvokeWithMethodAndArg","invoke","unwrapped","return","TypeError","info","pushTryEntry","locs","iteratorMethod","asyncGeneratorStep","gen","_next","_throw","args","deviceApi","defaults","headers","timeout","defaultsKeys","requestStack","locked","api","account","macAlgorithm","macKey","options","afterRefresh","headersKeys","client","fetch","String","setRequestHeader","responseType","onreadystatechange","readyState","shift","status","onfail","onLoadException","postData","ready","timer","abort","replace","parseException","access_token","user_id","activation_code","refresh_token","mac_algorithm","mac_key","v3","saveCallback","clientType","someProblem","metric3","network","mac","metric1","metric2","page","format","Input","Button","authErrors","STATE_INPUT_LOGIN","STATE_INPUT_LICENSE","inputs","buttons","credentialsData","tagB","validateInput","input","minimalLength","trim","STATE_ERROR","STATE_NORMAL","setState","newState","$text","innerHTML","license","processAuthError","$loginError","loginHandler","inputKeydownHandler","keyCode","enter","keydown","activationKey","backspace","escape","space","pageUp","pageDown","home","left","up","right","down","insert","del","change","placeholder","onContentEnd","programList","player","playChannel","channelList","categorySelect","lastId","plugin","pause","categories","category","today","todayStart","getFullYear","getMonth","getDate","getTime","nextDayStart","getEpg","programs","program","playEpgProgram","uri","ReferenceError","onAppInit","worker","appPlugin","onInit","onContentBoardInit","dump","toggleFavorite","getUrl","solution","setLast","TV_APP_NAME","CLASSIC_TV_APP_NAME","appsConfig","isAppRunning","appName","taskManager","topApp","packageName","hardcodeLoader","TV","packageMap","CLASSIC_TV","appProvider","channelToPlay","targetApp","channelToCheckCensored","msg","censored","runApp","ignoreAccessControl","visible","parseInt","getAppProvider","leanback","providerIcons","480","normal","active","576","720","1080","imagePath","screen","height","query","doneCallback","icons","startData","dataToSend","icon","layout","layouts","tvChannel","geometry","horizontal","progress","actions","accessControl","onClick","sendIntent","intent","mime","headless","mediaId","extra","retryOnError","stream","video","static","application","square","vertical","expandItemContent","lastChannelTimeout","lastPlayedContent","width","onPlayHandler","play","onPlayEnd","videojs","$video","controls","preload","on","$liveButton","_this2","$title","playConfig","isEnglish","time","startTime","hours","minutes","ampm","nowTime","getHours","getMinutes","firstChild","$login","$tariff","$endDate"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 19);\n","/**\n * HTML elements low-level handling for JSX.\n *\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\n/* eslint no-unused-vars: 0 */\n\n/**\n * DOM manipulation module\n */\nvar dom = {};\n\n\n/**\n * Create a new HTML element.\n *\n * @param {string} tagName - mandatory tag name\n * @param {Object|null} [attributes] - element attributes\n * @param {...*} [content] - element content (primitive value/values or other nodes)\n * @return {Object} HTML element with links\n */\ndom.tag = function ( tagName, attributes, content ) {\n    var links = {},\n        $node, index, name, argument;\n\n    console.assert(arguments.length > 0, 'wrong arguments number');\n    console.assert(typeof tagName === 'string', 'wrong tagName type');\n    console.assert(tagName.length > 0, 'empty tagName');\n\n    // empty element\n    $node = document.createElement(tagName);\n\n    // optional attribute list is given\n    if ( attributes && typeof attributes === 'object' ) {\n        // apply link and clear attributes\n        if ( attributes.link ) {\n            links[attributes.link] = $node;\n            attributes.link = null;\n        }\n\n        for ( name in attributes ) {\n            console.assert(typeof name === 'string', 'wrong attribute name type');\n            console.assert(name.length > 0, 'empty attribute name');\n\n            if ( attributes[name] !== null ) {\n                // extend a new node with the given attributes\n                $node[name] = attributes[name];\n            }\n        }\n    }\n\n    // content (arguments except the first two)\n    for ( index = 2; index < arguments.length; index++ ) {\n        argument = arguments[index];\n\n        if ( argument && argument.$node ) {\n            $node.appendChild(argument.$node);\n\n            for ( name in argument.links ) {\n                links[name] = argument.links[name];\n            }\n        } else {\n            $node.appendChild(document.createTextNode(argument));\n        }\n    }\n\n    return {$node: $node, links: links};\n};\n\n\n// public\nmodule.exports = dom;\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\nvar Emitter = require('cjs-emitter');\n\n\n// /**\n//  * Base component implementation.\n//  *\n//  * Visual element that can handle sub-components.\n//  * Each component has a DOM element container $node with a set of classes:\n//  * \"component\" and some specific component class names depending on the hierarchy, for example \"page\".\n//  * Each component has a unique ID given either from $node.id or from data.id. If not given will generate automatically.\n//  *\n//  * @constructor\n//  * @extends Emitter\n//  *\n//  * @param {Object} [config={}] init parameters\n//  * @param {Element} [config.id] component unique identifier (generated if not set)\n//  * @param {string} [config.className] space-separated list of classes for \"className\" property of this.$node\n//  * @param {Element} [config.$node] DOM element/fragment to be a component outer container\n//  * @param {Element} [config.$body] DOM element/fragment to be a component inner container (by default is the same as $node)\n//  * @param {Component} [config.parent] link to the parent component which has this component as a child\n//  * @param {Array.<Component>} [config.children=[]] list of components in this component\n//  * @param {Object.<string, function>} [config.events={}] list of event callbacks\n//  * @param {boolean} [config.visible=true] component initial visibility state flag\n//  * @param {boolean} [config.focusable=true] component can accept focus or not\n//  * @param {boolean} [config.propagate=false] allow to emit events to the parent component\n//  *\n//  * @fires module:stb/component~Component#click\n//  *\n//  * @example\n//  * var component = new Component({\n//  *     $node: document.getElementById(id),\n//  *     className: 'bootstrap responsive',\n//  *     events: {\n//  *         click: function () { ... }\n//  *     }\n//  * });\n//  * component.add( ... );\n//  * component.focus();\n//  */\nfunction Component ( config ) {\n    // current execution context\n    var self      = this,\n        //focusable = false,\n        classList, modifiers,\n        $node;\n\n\n    // parent constructor call\n    Emitter.call(this);\n\n    /** @protected */\n    this.private = {\n        hidden: false,\n        focusable: false,\n        focused: false\n    };\n\n    // apply custom name\n    config.name && (this.name = config.name);\n\n    // component DOM container (empty div in case nothing is given)\n    //this.$node = $node = config.id ? document.getElementById(config.id) : config.$node || document.createElement('div');\n    this.$node = $node = config.$node || document.createElement('div');\n\n    // to do: use/remove\n    //this.$node.removeAttribute('id');\n\n    // sanitize\n    modifiers = config.modifiers || [];\n\n\n    classList = [this.name];\n\n    // there are some block modifiers\n    if ( modifiers.length ) {\n        // build class names\n        modifiers.forEach(function ( modifier ) {\n            classList.push(self.name + '--' + modifier);\n        });\n    }\n\n    // append all new classes to the existing ones\n    //$node.classList.add.apply($node.classList, classList);\n    $node.className += classList.join(' ');\n\n    config.focusable && (this.focusable = true);\n\n    // set focus if can and necessary\n    config.focusable && config.focused && (this.focused = true);\n\n    config.hidden && (this.hidden = true);\n\n    config.content && this.add.apply(this, config.content);\n\n    // apply all given events\n    config.events && this.addListeners(config.events);\n\n\n    if ( DEVELOP ) {\n        this.counters[this.constructor.name] = this.counters[this.constructor.name] || 0;\n        this.counters[this.constructor.name]++;\n\n        // expose inner ID to global scope\n        this.$node.dataset.name = 'component' + this.constructor.name + this.counters[this.constructor.name];\n        window[this.$node.dataset.name] = this;\n\n        $node.addEventListener('click', function ( event ) {\n            var time = Date.now();\n\n            if ( event.ctrlKey ) {\n                event.stopPropagation();\n                window.link = self;\n                window['c' + time] = self;\n\n                console.group('component info');\n                console.log(self);\n                console.log($node.getBoundingClientRect());\n                console.log('in DEVELOP mode this component is available in the global scope as \"%s\"', self.$node.dataset.name);\n                console.groupEnd();\n            }\n        });\n\n        // expose a link\n        Object.defineProperty($node, 'component', {\n            get: function () {\n                console.warn('Accessing the associated component from a DOM node is a development-only feature!');\n\n                return self;\n            }\n        });\n\n        window['Component' + this.constructor.name] = this.constructor;\n\n        //$node.component = this.$body.component = this;\n        //$node.component = this;\n        //$node.title = this.constructor.name + '#' + this.id + ' (outer)';\n        //$node.title = this.name + ' instance of ' + this.constructor.name;\n        //this.$body.title = this.name + '#' + this.id + ' (inner)';\n    }\n\n    //if ( this.focusable ) {}\n\n    // debug.info('create component ' + this.name + '#' + this.id, null, {\n    //     tags: ['create', 'component', this.name, this.id]\n    // });\n    //return this;\n}\n\n\n// inheritance\nComponent.prototype = Object.create(Emitter.prototype);\nComponent.prototype.constructor = Component;\n\n\nObject.defineProperties(Component.prototype, {\n    focusable: {\n        get: function () {\n            return this.private.focusable;\n        },\n        set: function ( value ) {\n            var self      = this,\n                $node     = this.$node,\n                nodeClass = this.name + '--focused';\n\n            // sanitize\n            value = !!value;\n\n            // nothing has changed\n            if ( this.private.focusable === value ) {\n                console.warn('focusable: current and new values are identical', value, this);\n            } else {\n                // save\n                this.private.focusable = value;\n\n                // apply\n                if ( value ) {\n                    // has focus\n                    $node.setAttribute('tabIndex', '0');\n\n                    // prepare focus handlers\n                    this.private.onfocus = function onFocus ( event ) {\n                        // apply\n                        $node.classList.add(nodeClass);\n                        DEVELOP && $node.classList.add('develop-focused');\n                        // notify listeners\n                        self.events.focus && self.emit('focus', event);\n                    };\n                    this.private.onblur = function onFocus ( event ) {\n                        // apply\n                        $node.classList.remove(nodeClass);\n                        DEVELOP && $node.classList.remove('develop-focused');\n                        // notify listeners\n                        self.events.blur && self.emit('blur', event);\n                    };\n\n                    // add handlers\n                    $node.addEventListener('focus', this.private.onfocus);\n                    $node.addEventListener('blur', this.private.onblur);\n                } else {\n                    // does not have focus\n                    $node.removeAttribute('tabIndex');\n\n                    // remove handlers\n                    $node.removeEventListener('focus', this.private.onfocus);\n                    $node.removeEventListener('blur', this.private.onblur);\n\n                    // clear\n                    delete this.private.onfocus;\n                    delete this.private.onblur;\n\n                    // blur just in case\n                    this.focused = false;\n                }\n            }\n        }\n    },\n\n    focused: {\n        get: function () {\n            return this.private.focused;\n        },\n        set: function ( value ) {\n            // apply\n            if ( value ) {\n                this.$node.focus();\n\n                if ( document.activeElement !== this.$node ) {\n                    console.warn('focused: fail to focus or not focusable', value, this);\n                }\n            } else {\n                this.$node.blur();\n            }\n        }\n    },\n\n    hidden: {\n        get: function () {\n            return this.private.hidden;\n        },\n        set: function ( value ) {\n            var $node     = this.$node,\n                nodeClass = this.name + '--hidden';\n\n            // sanitize\n            value = !!value;\n\n            // nothing has changed\n            if ( this.private.hidden === value ) {\n                console.warn('hidden: current and new values are identical', value, this);\n            } else {\n                // save\n                this.private.hidden = value;\n\n                // apply\n                if ( value ) {\n                    // hide\n                    $node.classList.add(nodeClass);\n                    // notify listeners\n                    this.events.hide && this.emit('hide');\n                } else {\n                    // show\n                    $node.classList.remove(nodeClass);\n                    // notify listeners\n                    this.events.show && this.emit('show');\n                }\n            }\n        }\n    }\n});\n\n\nif ( DEVELOP ) {\n    // expose constructor to global scope\n    window.Component = Component;\n\n    Component.prototype.counters = {};\n}\n\n\n/**\n * List of all default event callbacks.\n *\n * @type {Object.<string, function>}\n */\n//Component.prototype.defaultEvents = null;\n\n\n/**\n * Add a new component as a child.\n *\n * //@param {...Component} [child] variable number of elements to append\n *\n * //@files Component#add\n *\n * @example\n * panel.add(\n *     new Button( ... ),\n *     new Button( ... )\n * );\n */\nComponent.prototype.add = function () {\n    var index, child;\n\n    // walk through all the given elements\n    for ( index = 0; index < arguments.length; index++ ) {\n        child = arguments[index];\n\n        // if ( DEVELOP ) {\n        //     if ( !(child instanceof Component) ) {\n        //         throw new Error(__filename + ': wrong child type');\n        //     }\n        // }\n\n        this.$node.appendChild(child.$node || child);\n\n        // // apply\n        // this.children.push(child);\n        // child.parent = this;\n        //\n        // // correct DOM parent/child connection if necessary\n        // if ( child.$node && child.$node.parentNode === null ) {\n        //     this.$body.appendChild(child.$node);\n        // }\n        //\n        // debug.info('add component ' + child.name + '#' + child.id + ' to ' + this.name + '#' + this.id, null, {\n        //     tags: ['add', 'component', this.name, this.id, child.name, child.id]\n        // });\n        //\n        // // there are some listeners\n        // if ( this.events.add ) {\n        //     /**\n        //      * A child component is added.\n        //      *\n        //      * @event module:stb/component~Component#add\n        //      *\n        //      * @type {Object}\n        //      * @property {Component} item new component added\n        //      */\n        //     this.emit('add', {item: child});\n        // }\n        //\n        // //debug.log('component ' + this.name + '#' + this.id + ' new child: ' + child.name + '#' + child.id);\n    }\n};\n\n\n/* @todo: consider activation in future */\n///**\n// * Insert component into the specific position.\n// *\n// * @param {Component} child component instance to insert\n// * @param {number} index insertion position\n// */\n//Component.prototype.insert = function ( child, index ) {\n//    var prevIndex = this.children.indexOf(child);\n//\n//    if ( DEVELOP ) {\n//        if ( arguments.length !== 2 ) { throw new Error(__filename + ': wrong arguments number'); }\n//        if ( !(child instanceof Component) ) { throw new Error(__filename + ': wrong child type'); }\n//    }\n//\n//    if ( prevIndex !== -1 ) {\n//        this.children.splice(prevIndex, 1);\n//        this.$body.removeChild(child.$node);\n//    }\n//\n//    if ( index === this.children.length ) {\n//        this.$body.appendChild(child.$node);\n//    } else {\n//        this.$body.insertBefore(child.$node, this.$body.children[index]);\n//    }\n//    this.children.splice(index, 0, child);\n//\n//    if ( !child.parent ) {\n//        child.parent = this;\n//    }\n//};\n\n\n/**\n * Delete this component and clear all associated events.\n *\n * //@fires module:stb/component~Component#remove\n */\nComponent.prototype.remove = function () {\n    var $parent = this.$node.parentNode;\n\n    // really inserted somewhere\n    // if ( this.parent ) {\n    //     if ( DEVELOP ) {\n    //         if ( !(this.parent instanceof Component) ) {\n    //             throw new Error(__filename + ': wrong this.parent type');\n    //         }\n    //     }\n    //\n    //     // active at the moment\n    //     if ( app.activePage.activeComponent === this ) {\n    //         this.blur();\n    //         this.parent.focus();\n    //     }\n    //     this.parent.children.splice(this.parent.children.indexOf(this), 1);\n    // }\n\n    // remove all children\n    // this.children.forEach(function ( child ) {\n    //     if ( DEVELOP ) {\n    //         if ( !(child instanceof Component) ) {\n    //             throw new Error(__filename + ': wrong child type');\n    //         }\n    //     }\n    //\n    //     child.remove();\n    // });\n\n    //console.assert(this.$node.parentNode instanceof Element, 'wrong config type');\n\n    // clear DOM\n    $parent && $parent.removeChild(this.$node);\n\n    // notify listeners\n    this.events.remove && this.emit('remove');\n\n    // remove all listeners\n    this.events = {};\n\n    //debug.log('component ' + this.name + '#' + this.id + ' remove', 'red');\n    // debug.info('remove component ' + this.name + '#' + this.id, null, {\n    //     tags: ['remove', 'component', this.name, this.id]\n    // });\n};\n\n\n/**\n * Activate the component.\n * Notify the owner-page and apply CSS class.\n *\n * @return {boolean} operation status\n *\n * //@fires module:stb/component~Component#focus\n */\n/*Component.prototype.focus = function () {\n    this.$node.focus();\n\n    // not already focused\n    //if ( this.focusable && this !== focusComponent ) {\n    // if ( this !== focusComponent ) {\n    //     // notify the current focused component\n    //     focusComponent && focusComponent.blur();\n    //\n    //     // apply\n    //     this.$node.classList.add(this.name + '--focused');\n    //     focusComponent = this;\n    //\n    //     if ( DEVELOP ) {\n    //         this.$node.classList.add('develop-focused');\n    //     }\n    //\n    //     // notify listeners\n    //     this.events.focus && this.emit('focus', data);\n    //\n    //     // ok\n    //     return true;\n    // }\n\n    // status\n    return document.activeElement === this.$node;\n};*/\n\n\n/**\n * Remove focus.\n * Change page.activeComponent and notify subscribers.\n *\n * @return {boolean} operation status\n *\n * //@fires module:stb/component~Component#blur\n */\n/*Component.prototype.blur = function () {\n    this.$node.blur();\n\n    // is it focused\n    // if ( this === focusComponent ) {\n    //     // apply\n    //     this.$node.classList.remove(this.name + '--focused');\n    //     focusComponent = null;\n    //\n    //     if ( DEVELOP ) {\n    //         this.$node.classList.remove('develop-focused');\n    //     }\n    //\n    //     // notify listeners\n    //     this.events.blur && this.emit('blur');\n    //\n    //     // ok\n    //     return true;\n    // }\n\n    // status\n    return document.activeElement !== this.$node;\n};*/\n\n\n/**\n * Make the component visible and notify subscribers.\n *\n * //@param {Object} [data] - custom data which passed into handlers\n *\n * @return {boolean} operation status\n *\n * //@fires module:stb/component~Component#show\n */\n/*Component.prototype.show = function () {\n    if ( this.private.hidden ) {\n        // correct style\n        this.$node.classList.remove(this.name + '--hidden');\n        // flag\n        this.private.hidden = false;\n        // notify listeners\n        this.events.show && this.emit('show');\n\n        // ok\n        return true;\n    }\n\n    console.warn('component is already visible!', this);\n\n    // status\n    return false;\n};*/\n\n\n/**\n * Make the component hidden and notify subscribers.\n *\n * //@param {Object} [data] - custom data which passed into handlers\n *\n * @return {boolean} operation status\n *\n * //@fires module:stb/component~Component#hide\n */\n/*Component.prototype.hide = function () {\n    if ( !this.private.hidden ) {\n        // correct style\n        this.$node.classList.add(this.name + '--hidden');\n        // flag\n        this.private.hidden = true;\n        // notify listeners\n        this.events.hide && this.emit('hide');\n\n        // ok\n        return true;\n    }\n\n    console.warn('component is already hidden!', this);\n\n    // status\n    return false;\n};*/\n\n\n/*Component.prototype.enable = function ( data ) {\n    if ( this.disabled ) {\n        // correct style\n        this.$node.classList.remove(this.name + '--disabled');\n        // flag\n        this.disabled = false;\n        // notify listeners\n        this.events.enable && this.emit('enable', data);\n\n        // ok\n        return true;\n    }\n\n    // status\n    return false;\n};\n\n\nComponent.prototype.disable = function ( data ) {\n    if ( !this.disabled ) {\n        // remove focus\n        this.blur();\n\n        // correct style\n        this.$node.classList.add(this.name + '--disabled');\n        // flag\n        this.disabled = true;\n        // notify listeners\n        this.events.disable && this.emit('disable', data);\n\n        // ok\n        return true;\n    }\n\n    // status\n    return false;\n};*/\n\n\n// public\nmodule.exports = Component;\n","/**\n * Application core.\n */\n\n'use strict';\n\nconst\n    Emitter = require('cjs-emitter'),\n    app     = new Emitter();\n\n\n// load global app configuration\napp.config = require('./config');\n\nif ( DEVELOP ) {\n    window.app = app;\n}\n\n\n// public\nmodule.exports = app;\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\n\n/**\n * Base Events Emitter implementation.\n *\n * @see http://nodejs.org/api/events.html\n * @constructor\n *\n * @example\n * var emitter = new Emitter();\n */\nfunction Emitter () {\n    console.assert(typeof this === 'object', 'must be constructed via new');\n\n    // if ( DEVELOP ) {\n    //     if ( typeof this !== 'object' ) { throw new Error(__filename + ': must be constructed via new'); }\n    // }\n\n    /**\n     * Inner hash table for event names and linked callbacks.\n     * Manual editing should be avoided.\n     *\n     * @member {Object.<string, function[]>}\n     *\n     * @example\n     * {\n     *     click: [\n     *         function click1 () { ... },\n     *         function click2 () { ... }\n     *     ],\n     *     keydown: [\n     *         function () { ... }\n     *     ]\n     * }\n     **/\n    this.events = {};\n}\n\n\nEmitter.prototype = {\n    /**\n     * Bind an event to the given callback function.\n     * The same callback function can be added multiple times for the same event name.\n     *\n     * @param {string} name event identifier\n     * @param {function} callback function to call on this event\n     *\n     * @example\n     * emitter.addListener('click', function ( data ) { ... });\n     * // one more click handler\n     * emitter.addListener('click', function ( data ) { ... });\n     */\n    addListener: function ( name, callback ) {\n        console.assert(arguments.length === 2, 'wrong arguments number');\n        console.assert(typeof name === 'string', 'wrong name type');\n        console.assert(name.length > 0, 'empty name');\n        console.assert(typeof callback === 'function', 'callback should be a function');\n\n        // if ( DEVELOP ) {\n        //     if ( arguments.length !== 2 ) { throw new Error(__filename + ': wrong arguments number'); }\n        //     if ( typeof name !== 'string' || name.length === 0 ) { throw new Error(__filename + ': wrong or empty name'); }\n        //     if ( typeof callback !== 'function' ) { throw new Error(__filename + ': wrong callback type'); }\n        // }\n\n        // initialization may be required\n        this.events[name] = this.events[name] || [];\n        // append this new event to the list\n        this.events[name].push(callback);\n    },\n\n\n    /**\n     * Add a one time listener for the event.\n     * This listener is invoked only the next time the event is fired, after which it is removed.\n     *\n     * @param {string} name event identifier\n     * @param {function} callback function to call on this event\n     *\n     * @example\n     * emitter.once('click', function ( data ) { ... });\n     */\n    once: function ( name, callback ) {\n        // current execution context\n        var self = this;\n\n        if ( DEVELOP ) {\n            if ( arguments.length !== 2 ) {\n                throw new Error(__filename + ': wrong arguments number');\n            }\n            if ( typeof name !== 'string' || name.length === 0 ) {\n                throw new Error(__filename + ': wrong or empty name');\n            }\n            if ( typeof callback !== 'function' ) {\n                throw new Error(__filename + ': wrong callback type');\n            }\n        }\n\n        // initialization may be required\n        this.events[name] = this.events[name] || [];\n        // append this new event to the list\n        this.events[name].push(function onceWrapper () {\n            self.removeListener(name, onceWrapper);\n            callback.apply(self, arguments);\n        });\n    },\n\n\n    /**\n     * Apply multiple listeners at once.\n     *\n     * @param {Object} callbacks event names with callbacks\n     *\n     * @example\n     * emitter.addListeners({\n     *     click: function ( data ) {},\n     *     close: function ( data ) {}\n     * });\n     */\n    addListeners: function ( callbacks ) {\n        var name;\n\n        if ( DEVELOP ) {\n            if ( arguments.length !== 1 ) {\n                throw new Error(__filename + ': wrong arguments number');\n            }\n            if ( typeof callbacks !== 'object' ) {\n                throw new Error(__filename + ': wrong callbacks type');\n            }\n            if ( Object.keys(callbacks).length === 0 ) {\n                throw new Error(__filename + ': no callbacks given');\n            }\n        }\n\n        for ( name in callbacks ) {\n            if ( callbacks.hasOwnProperty(name) ) {\n                this.addListener(name, callbacks[name]);\n            }\n        }\n    },\n\n\n    /**\n     * Remove all instances of the given callback.\n     *\n     * @param {string} name event identifier\n     * @param {function} callback function to remove\n     *\n     * @example\n     * emitter.removeListener('click', func1);\n     */\n    removeListener: function ( name, callback ) {\n        if ( DEVELOP ) {\n            if ( arguments.length !== 2 ) {\n                throw new Error(__filename + ': wrong arguments number');\n            }\n            if ( typeof name !== 'string' || name.length === 0 ) {\n                throw new Error(__filename + ': wrong or empty name');\n            }\n            if ( typeof callback !== 'function' ) {\n                throw new Error(__filename + ': wrong callback type');\n            }\n            if ( this.events[name] && !Array.isArray(this.events[name]) ) {\n                throw new Error(__filename + ': corrupted inner data');\n            }\n        }\n\n        // the event exists and should have some callbacks\n        if ( this.events[name] ) {\n            // rework the callback list to exclude the given one\n            this.events[name] = this.events[name].filter(function callbacksFilter ( fn ) { return fn !== callback; });\n            // event has no more callbacks so clean it\n            if ( this.events[name].length === 0 ) {\n                // as if there were no listeners at all\n                this.events[name] = undefined;\n            }\n        }\n    },\n\n\n    /**\n     * Remove all callbacks for the given event name.\n     * Without event name clears all events.\n     *\n     * @param {string} [name] event identifier\n     *\n     * @example\n     * emitter.removeAllListeners('click');\n     * emitter.removeAllListeners();\n     *\n     * @deprecated\n     */\n    /*removeAllListeners: function ( name ) {\n        if ( DEVELOP ) {\n            if ( arguments.length !== 0 && (typeof name !== 'string' || name.length === 0) ) {\n                throw new Error(__filename + ': wrong or empty name');\n            }\n        }\n\n        // check input\n        if ( arguments.length === 0 ) {\n            // no arguments so remove everything\n            this.events = {};\n        } else if ( name ) {\n            if ( DEVELOP ) {\n                if ( this.events[name] ) { throw new Error(__filename + ': event is not removed'); }\n            }\n\n            // only name is given so remove all callbacks for the given event\n            // but object structure modification should be avoided\n            this.events[name] = undefined;\n        }\n    },*/\n\n\n    /**\n     * Execute each of the listeners in the given order with the supplied arguments.\n     *\n     * @param {string} name event identifier\n     *\n     * @example\n     * emitter.emit('init');\n     * emitter.emit('click', {src: panel1, dst: panel2});\n     * emitter.emit('load', error, data);\n     *\n     * // it's a good idea to emit event only when there are some listeners\n     * if ( this.events['click'] ) {\n     *     this.emit('click', {event: event});\n     * }\n     */\n    emit: function ( name ) {\n        var event = this.events[name],\n            index;\n\n        if ( DEVELOP ) {\n            if ( arguments.length < 1 ) {\n                throw new Error(__filename + ': wrong arguments number');\n            }\n            if ( typeof name !== 'string' || name.length === 0 ) {\n                throw new Error(__filename + ': wrong or empty name');\n            }\n        }\n\n        // the event exists and should have some callbacks\n        if ( event ) {\n            if ( DEVELOP ) {\n                if ( !Array.isArray(event) ) {\n                    throw new Error(__filename + ': wrong event type');\n                }\n            }\n\n            for ( index = 0; index < event.length; index++ ) {\n                if ( DEVELOP ) {\n                    if ( typeof event[index] !== 'function' ) {\n                        throw new Error(__filename + ': wrong event callback type');\n                    }\n                }\n\n                // invoke the callback with parameters\n                event[index].apply(this, Array.prototype.slice.call(arguments, 1));\n            }\n        }\n    }\n};\n\n\n// correct constructor name\nEmitter.prototype.constructor = Emitter;\n\n\n// public\nmodule.exports = Emitter;\n","/**\n * @author Aleynikov Boris <aleynikov.boris@gmail.com>.\n */\n\n'use strict';\n\nconst html = <div className=\"preloader\"><div className=\"preloader__circle\"></div></div>;\n\n\nmodule.exports = {\n    $node: html.$node,\n    show: () => html.$node.classList.add('preloader--visible'),\n    hide: () => html.$node.classList.remove('preloader--visible')\n};\n\nwindow.q = module.exports;\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\nvar Component = require('../component');\n\n\n/**\n *\n * @constructor\n * @extends Component\n *\n * @param {Object} [config={}] - init parameters (all inherited from the parent)\n */\nfunction List ( config ) {\n    var self = this,\n        $node;\n\n    console.assert(typeof this === 'object', 'must be constructed via new');\n    console.assert(typeof config === 'object', 'wrong config type');\n\n    config.focusable = true;\n\n    // parent constructor call\n    Component.call(this, config);\n\n    // shortcut\n    $node = this.$node;\n\n    Object.defineProperties(this, {\n\n    });\n\n    // custom visualization\n    config.render && (this.render = config.render);\n\n    // apply and render\n    this.data = config.data;\n\n    $node.addEventListener('click', function ( event ) {\n        var $item = event.target;\n\n        // find the top item\n        while ( $item.parentNode !== $node ) {\n            $item = $item.parentNode;\n        }\n\n        // notify listeners\n        self.events.click && self.emit('click', /*data[$item.dataset.index],*/ event);\n\n        // listeners can cancel focusing\n        if ( !event.defaultPrevented ) {\n            self.$focusItem = $item;\n        }\n    });\n\n    $node.addEventListener('wheel', () => {\n        console.log('wheel');\n\n        this.$node.classList.add('list--scrolled');\n        clearTimeout(this.private.scrollTimeout);\n        this.private.scrollTimeout = setTimeout(() => {\n            this.$node.classList.remove('list--scrolled');\n        }, 2000);\n    });\n}\n\n\n// inheritance\nList.prototype = Object.create(Component.prototype);\nList.prototype.constructor = List;\n\n// set component name\nList.prototype.name = 'list';\n\n\nObject.defineProperties(List.prototype, {\n    data: {\n        get: function () {\n            return this.private.data;\n        },\n        set: function ( data ) {\n            var $node     = this.$node,\n                $fragment = document.createDocumentFragment(),\n                internals = this.private;\n\n            // sanitize\n            data = data || [];\n\n            // valid input\n            if ( Array.isArray(data) ) {\n                // notify listeners\n                this.events.data && this.emit('data', data, internals.data);\n                // store\n                internals.data = data;\n\n                // clear container\n                while ( $node.lastChild ) {\n                    $node.removeChild($node.lastChild);\n                }\n\n                // reset focus states\n                internals.focusIndex = internals.$focusItem = null;\n\n                // create items\n                data.forEach(function ( dataItem, index ) {\n                    var $item = document.createElement('div');\n\n                    // build item\n                    $item.dataset.index = index;\n                    $item.className = this.name + '__item';\n                    this.render($item, dataItem);\n\n                    $fragment.appendChild($item);\n                }, this);\n\n                // fill\n                $node.appendChild($fragment);\n            } else {\n                console.error('wrong data type', data);\n            }\n        }\n    },\n\n    $focusItem: {\n        get: function () {\n            return this.private.$focusItem;\n        },\n        set: function ( $value ) {\n            var internals  = this.private,\n                $focusItem = internals.$focusItem,\n                focusIndex = internals.focusIndex,\n                itemClass  = this.name + '__item--focused';\n\n            // valid focus candidate or null to clear focus\n            if ( ($value && $value.parentNode === this.$node) || !$value ) {\n                // nothing has changed\n                if ( $value === $focusItem ) {\n                    console.warn('$focusItem: current and new values are identical', $value, this);\n                } else {\n                    // the previous focused element\n                    if ( $focusItem ) {\n                        // clear\n                        $focusItem.classList.remove(itemClass);\n                        // notify listeners\n                        this.events['blur:item'] && this.emit('blur:item', internals.data[focusIndex], $focusItem, focusIndex);\n                    }\n\n                    // store\n                    internals.$focusItem = $focusItem = $value || null;\n                    internals.focusIndex = focusIndex = $focusItem ? Number($focusItem.dataset.index) : null;\n\n                    // new selection\n                    if ( $focusItem ) {\n                        // apply styles\n                        $focusItem.classList.add(itemClass);\n                        // notify listeners\n                        this.events['focus:item'] && this.emit('focus:item', internals.data[focusIndex], $focusItem, focusIndex);\n                    }\n                }\n            } else {\n                console.error('$focusItem should be a child element of $node', $value);\n            }\n        }\n    },\n\n    focusIndex: {\n        get: function () {\n            return this.private.focusIndex;\n        },\n        set: function ( value ) {\n            var internals = this.private,\n                $target;\n\n            if ( value === null || value === undefined ) {\n                // reset\n                this.$focusItem = null;\n            } else {\n                // sanitize\n                value = Number(value);\n\n                // nothing has changed\n                if ( internals.focusIndex === value ) {\n                    console.warn('focusIndex: current and new values are identical', value, this);\n                } else {\n                    // valid input\n                    if ( value >= 0 && value < internals.data.length ) {\n                        // find the element to focus\n                        $target = this.$node.children[value];\n                        // apply\n                        this.$focusItem = $target;\n                    } else {\n                        console.error('focusIndex is out of range', value);\n                    }\n                }\n            }\n        }\n    }\n});\n\n\n/**\n * Method to build each list item content.\n *\n * @param {Element} $item - item DOM link\n * @param {*} data - associated with this item data\n */\nList.prototype.render = function ( $item, data ) {\n    $item.textContent = data;\n};\n\n\n// public\nmodule.exports = List;\n","/**\n * @author Aleynikov Boris <aleynikov.boris@gmail.com>.\n */\n\n'use strict';\n\nconst\n    app = require('../../app'),\n    ministraApi = require('./stalker.api.unsecure'),\n    host = app.config.host,\n\n    USERDATA_NAME = 'desktop-player-session-data',\n    ERROR_CODES = require('./statuses').map;\n\n\nwindow.core = {\n    backend: {\n        addListener: function () { /* need empty function for backend modules */ },\n        request: ministraApi.request\n    },\n    stalker: ministraApi\n};\n\napp.backend = {};\n\n\napp.stalker = ministraApi;\napp.stalker.lang = app.config.language;\n\n// we must define handler that fires when access or refresh token is broken\napp.stalker.oncredenitalsrequired = () => app.emit('authorization:error');\n\nmodule.exports = {\n    STATE_AUTHORIZED: Symbol(),\n    STATE_NOT_AUTHORIZED: Symbol(),\n\n    /**\n     * Check authorization\n     */\n    init: function () {\n        return new Promise((resolve) => {\n            let userData;\n\n            try {\n                userData = JSON.parse(localStorage.getItem(USERDATA_NAME));\n\n                Object.assign(ministraApi.session, userData);\n                ministraApi.host = app.config.host;\n                ministraApi.authHost = app.config.host;\n                app.user = {login: userData.userLogin};\n\n                this.ping()\n                    .then(() => {\n                        resolve({state: this.STATE_AUTHORIZED});\n                        app.emit('authorization:login');\n                    })\n                    .catch(() => resolve({state: this.STATE_NOT_AUTHORIZED}));\n            } catch ( error ) {\n                console.log(error);\n                resolve({state: this.STATE_NOT_AUTHORIZED});\n            }\n        });\n    },\n\n    login: config => {\n        let credentials = {\n                address: host,\n                activationCode: config.activationCode || ''\n            },\n            userDataToSave = {};\n\n        credentials.login = config.login;\n        credentials.password = config.password;\n\n        return new Promise((resolve, reject) => {\n            ministraApi.auth.login(credentials, (error, data) => {\n                if ( !error ) {\n                    app.user = {\n                        login: credentials.login\n                    };\n\n                    userDataToSave.refreshToken = data['refresh_token'];\n                    userDataToSave.accessToken = data['access_token'];\n                    userDataToSave.userId = data['user_id'];\n                    userDataToSave.userLogin = credentials.login;\n\n                    app.emit('authorization:login');\n                    resolve({state: self.STATE_AUTHORIZED});\n                    localStorage.setItem(USERDATA_NAME, JSON.stringify(userDataToSave));\n                } else {\n                    reject({state: ERROR_CODES[error.error_description]});\n                }\n            });\n        });\n    },\n\n    signOut: () => {\n        localStorage.removeItem(USERDATA_NAME);\n        location.reload();\n    },\n\n    getSettings: () => {\n        return new Promise((resolve, reject) => {\n            ministraApi.request('/settings', {\n                onload: function ( error, result ) {\n                    if ( error ) {\n                        reject(error);\n                    } else {\n                        resolve(result.data);\n                    }\n                },\n                onerror: reject\n            });\n        });\n    },\n\n    getProfileInfo: () => {\n        return new Promise((resolve, reject) => {\n            ministraApi.request('/profile', {\n                onload: function ( error, result ) {\n                    if ( error ) {\n                        reject(error);\n                    } else {\n                        resolve(result.data);\n                    }\n                },\n                onerror: reject\n            });\n        });\n    },\n\n    getThemeData: themeAlias => {\n        return new Promise((resolve, reject) => {\n            ministraApi.request('/themes/' + themeAlias + '?colorSpace=rgba_hex&screenResolution=1920x1080', {\n                onload: function ( error, theme ) {\n                    if ( error ) {\n                        reject();\n                    } else {\n                        resolve(theme.data);\n                    }\n                },\n                onerror: reject\n            });\n        });\n    },\n\n    getAllUserInfo: async function () {\n        let profile = await this.getProfileInfo();\n\n        profile.settings = await this.getSettings();\n        profile.theme = await this.getThemeData(profile.settings.themes[profile.settings.theme].alias);\n\n        if ( profile.theme.logoFilename && profile.theme.logoFilename.value ) {\n            profile.logoPath = profile.theme.logoFilename.value;\n        }\n\n        return profile;\n    },\n\n    ping: () => {\n        return new Promise((resolve, reject) => {\n            ministraApi.request('/ping', {\n                onload: function ( error, data ) {\n                    if ( error ) {\n                        reject(error);\n                    } else {\n                        resolve(data);\n                    }\n                },\n                onerror: error => {\n                    console.log(error, 'ping error');\n                    reject(error);\n                }\n            });\n        });\n    }\n};\n\n\nif ( DEVELOP ) {\n    window.backend = module.exports;\n}\n","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","'use strict';\n\nconst\n    Emitter = require('cjs-emitter'),\n    backend = new Emitter();\n\n\nmodule.exports = {\n    instance: backend\n};\n","/**\n *\n * @author Aleynikov Boris <aleynikov.boris@gmail.com>.\n */\n\n'use strict';\n\nvar Emitter                 = require('cjs-emitter'),\n    Channel                 = require('./channel.class'),\n    Epg                     = require('./epg.class'),\n\n    storage                 = require('./data.storage'),\n\n    instanceList            = [],\n    request                 = window.core.backend.request,\n\n    // count of channels to get per request to init provider\n    INIT_CHANNELS_LIMIT     = 500,\n    // every 3 minutes update channels\n    UPDATE_CHANNELS_TIMEOUT = 60000 * 3,\n    // delay between intervals\n    UPDATE_INTERVALS_DELAY  = 15000,\n\n    BACKGROUND_INTERVAL_TO  = 60,\n    BACKGROUND_INTERVAL_FROM = 30,\n\n    EMPTY_INTERVAL_COUNT    = 10,\n    // LEANBACK_ITEM_COLOR     = '#009bc2',\n\n    emptyCounter            = {\n        addCount: 0,\n        updateCount: 0,\n        deleteCount: 0\n    },\n    tempChannelsData        = [],\n    intervals               = {},\n\n    LAST_CHANNELS_ADD,\n    LAST_CHANNELS_UPDATE,\n    LAST_CHANNELS_DELETE,\n\n\n    // when collecting channels in parts save channels in tmp array\n    totalChannels;\n\nfunction addChannelsHandler () {\n    var url;\n\n    if ( !instanceList.length && emptyCounter.addCount < EMPTY_INTERVAL_COUNT ) {\n        emptyCounter.addCount++;\n\n        return;\n    }\n    url = 'tv-channels/added?from=' + LAST_CHANNELS_ADD + '&t=' + +new Date();\n    emptyCounter.addCount = 0;\n    request(url, {\n        onload: function ( error, response ) {\n            if ( !error && response ) {\n                LAST_CHANNELS_ADD = response.timestamp;\n                if ( response.data.length ) {\n\n                    response.data = response.data.map(function ( object ) {\n                        return new Channel(object);\n                    });\n                    storage.list = storage.list.concat(response.data);\n                    instanceList.forEach(function ( provider ) {\n                        provider.emit('channels:add', {data: response.data});\n                    });\n                }\n            }\n        }\n    });\n}\n\nfunction deleteChannelsHandler () {\n    if ( !instanceList.length && emptyCounter.deleteCount < EMPTY_INTERVAL_COUNT ) {\n        emptyCounter.deleteCount++;\n\n        return;\n    }\n    emptyCounter.deleteCount = 0;\n    request('tv-channels/deleted?from=' + LAST_CHANNELS_DELETE + '&t=' + +new Date(), {\n        onload: function ( error, response ) {\n            if ( !error && response ) {\n                LAST_CHANNELS_DELETE = response.timestamp;\n                if ( response.data.length ) {\n                    storage.list = storage.list.filter(function (ch) {\n                        return (response.data.indexOf(ch.id) < 0);\n                    });\n                    instanceList.forEach(function ( provider ) {\n                        provider.emit('channels:delete', {data: response.data});\n                    });\n                }\n            }\n        }\n    });\n}\n\nfunction updateChannelsHandler () {\n    if ( !instanceList.length && emptyCounter.updateCount < EMPTY_INTERVAL_COUNT ) {\n        emptyCounter.updateCount++;\n\n        return;\n    }\n    emptyCounter.updateCount = 0;\n    request('tv-channels/modified?from=' + LAST_CHANNELS_UPDATE + '&t=' + +new Date(), {\n        onload: function ( error, response ) {\n            var hash = {},\n                index;\n\n            if ( !error && response ) {\n                LAST_CHANNELS_UPDATE = response.timestamp;\n                if ( response.data.length ) {\n\n                    response.data.forEach(function ( updated ) {\n                        hash[updated.id] = new Channel(updated);\n                    });\n\n                    for ( index = 0; index < storage.list.length; index++ ) {\n                        if ( hash[storage.list[index].id] ) {\n                            storage.list[index] = hash[storage.list[index].id];\n                        }\n                    }\n\n                    instanceList.forEach(function ( provider ) {\n                        provider.emit('channels:modified', {data: response.data});\n                    });\n\n                }\n            }\n        }\n    });\n}\n\n/**\n * Start to recursive grab channels\n *\n * @param {Object} [config] - config to grab\n * @param {Function} callback - callback after getting channels\n */\nfunction getChannels ( config, callback ) {\n    var url = 'tv-channels',\n        // add some timestamp to prevent cache request on mag 256\n        timestamp = Date.now() / 1000;\n\n    config = config || {};\n\n\n    url += '?limit=' + INIT_CHANNELS_LIMIT;\n\n    if ( config.offset ) {\n        url += '&offset=' + config.offset;\n    }\n    url += '&t=' + timestamp;\n    request(url, {\n        onload: function ( error, response ) {\n            var index;\n\n            if ( error ) {\n                // do sth\n\n            } else {\n                for ( index = 0; index < response.data.length; index++ ) {\n                    tempChannelsData.push(new Channel(response.data[index]));\n                }\n\n                if ( !totalChannels ) {\n                    totalChannels = response.paging.total;\n                }\n                // save config and set offset\n                if ( tempChannelsData.length < totalChannels ) {\n                    config.offset = tempChannelsData.length;\n                    getChannels(config, callback);\n                } else {\n                    // clear tmp data\n                    storage.list = tempChannelsData;\n                    tempChannelsData = [];\n                    totalChannels = 0;\n\n                    config.eventName = config.eventName || 'ready';\n\n                    if (config.update) {\n                        instanceList.forEach(function ( provider ) {\n                            provider.emit('update');\n                        });\n                    }\n                    if ( callback ) {\n                        callback(false);\n                    }\n                    LAST_CHANNELS_ADD = LAST_CHANNELS_DELETE = LAST_CHANNELS_UPDATE = response.timestamp;\n                }\n\n            }\n        },\n        onerror: function () {\n            callback(true);\n        }\n    });\n}\n\nwindow.core.backend.addListener('message', function ( message ) {\n    switch ( message.type ) {\n        case 'update_subscription':\n            getChannels({update: true});\n            break;\n    }\n});\n\n\nintervals.addChannelsInterval = setInterval(addChannelsHandler, UPDATE_CHANNELS_TIMEOUT);\n\nsetTimeout(function () {\n    intervals.deleteChannelsInterval = setInterval(deleteChannelsHandler, UPDATE_CHANNELS_TIMEOUT);\n}, UPDATE_INTERVALS_DELAY);\n\nsetTimeout(function () {\n    intervals.updateChannelsInterval = setInterval(updateChannelsHandler, UPDATE_CHANNELS_TIMEOUT);\n}, UPDATE_INTERVALS_DELAY * 2);\n\n/**\n * Channel list provider implementation\n *\n * @constructor\n */\nfunction Provider () {\n    Emitter.call(this);\n\n    /**\n     * Id of backround check timeout\n     */\n    this.backgroungCheckInterval = null;\n}\n\n\nProvider.prototype = Object.create(Emitter.prototype);\nProvider.prototype.constructor = Provider;\n\n/**\n * Get channel list\n *\n * @param {Object} config - config to get channels\n * @param {Function} callback - callback after getting data\n */\nProvider.prototype.getChannels = function ( config, callback ) {\n    var result = storage.list,\n        reg;\n\n    if ( config.favorite ) {\n        result = result.filter(function ( channel ) {\n            return !!channel.favorite;\n        });\n    }\n    if ( config.genre ) {\n        result = result.filter( function ( channel ) {\n            return channel.genre.id === config.genre;\n        });\n    }\n    if ( config.byName ) {\n        result = result.sort(function ( itemA, itemB ) {\n            return itemA.name > itemB.name ? 1 : -1;\n        });\n    } else {\n        result = result.sort(function ( itemA, itemB ) {\n            return itemA.number > itemB.number ? 1 : -1;\n        });\n    }\n\n    if ( config.pvr ) {\n        result = result.filter( function ( channel ) {\n            return ( channel.pvr || channel.local_pvr );\n        });\n    }\n\n    if ( config.search ) {\n        reg = new RegExp(config.search, 'i');\n        result = result.filter(function ( channel ) {\n            var matchName = channel.name.match(reg),\n                matchNumber = channel.number.toString().match(reg);\n\n            return ((matchName && matchName.length) || (matchNumber && matchNumber.length));\n        });\n    }\n    callback(false, result);\n};\n\n/**\n * Request full update channels list\n *\n * @param {Function} callback - callback after all done\n */\nProvider.prototype.updateChannelsList = function ( callback ) {\n    getChannels(null, callback);\n};\n\nProvider.prototype.getCategories = function ( callback ) {\n    request('tv-genres', {\n        onload: function ( error, response ) {\n            if ( error ) {\n                if ( callback ) {\n                    callback(true);\n                }\n\n                return;\n            }\n            if ( callback ) {\n                callback(false, response.data);\n            }\n        },\n        onerror: function () {\n            if ( callback ) {\n                callback(true);\n            }\n        }\n    });\n};\n\nProvider.prototype.getLastChannelId = function ( cb ) {\n    request('storage/lastChannel', {\n        method: 'GET',\n        onload: function ( error, response ) {\n            if ( error && cb ) {\n                cb(error, null);\n            } else if (cb && response.data.value ) {\n                cb(false, response.data.value);\n            }\n        },\n        onerror: function () {\n            if ( cb ) {\n                cb(true, null);\n            }\n        }\n    });\n};\n\nProvider.prototype.getEpgLink = function ( config, callback ) {\n    var url = 'tv-channels/' + config.channelId + '/epg/' + config.epgId + '/link';\n\n    request(url, {\n        onload: function ( error, response ) {\n            if ( error ) {\n                callback(true, []);\n            } else {\n                callback(false, response.data);\n            }\n        },\n        onerror: function () {\n            callback(true, []);\n        }\n    });\n};\n\n\nProvider.prototype.getChannelsEpg = function ( config, callback ) {\n    var map = {},\n        multiple,\n        url,\n        channelArray,\n        from,\n        to,\n        params;\n\n    config = config || {};\n\n    channelArray = config.channels;\n    multiple = channelArray.length > 1;\n\n\n    if ( !config.from && !config.to ) {\n        params = 'next=1';\n    } else {\n        from = Math.round(config.from / 1000) || '';\n        to  = Math.round(config.to / 1000) || '';\n        params = 'from=' + from + '&to=' + to;\n    }\n    channelArray.forEach(function ( channel ) {\n        map[channel.id] = channel;\n    });\n\n    url = 'tv-channels/' + encodeURIComponent(channelArray.map(function ( channel ) {\n        return channel.id;\n    }).join(',')) + '/epg?' + params;\n\n    return request(url, {\n        onload: function ( error, response ) {\n            var result = {};\n\n            if ( error && callback ) {\n                callback(true, []);\n            } else {\n                Object.keys(response.data).forEach(function ( key ) {\n                    var channelId = multiple ? key : channelArray[0].id,\n                        targetData = multiple ? response.data[key] : response.data;\n\n                    result[channelId] = [];\n                    targetData.forEach(function ( epgData ) {\n                        epgData.channel = map[channelId];\n                        result[channelId].push(new Epg(epgData));\n                    });\n                });\n                callback(false, result);\n            }\n        },\n        onerror: function () {\n            callback(true, []);\n        }\n    });\n};\n\n// destroy remove this instance from instance list\nProvider.prototype.destroy = function () {\n    var index = instanceList.indexOf(this);\n\n    if ( index ) {\n        instanceList = instanceList.splice(index, 1);\n    }\n};\n\nProvider.prototype.startBackgroundCheck = function () {\n    var self = this;\n\n    function getRandomTimeout () {\n        var seconds = (Math.floor(Math.random() * BACKGROUND_INTERVAL_TO) + BACKGROUND_INTERVAL_FROM ) * 60 * 1000;\n\n        // console.log('channels:updater: get interval ' + seconds);\n\n        if ( seconds / 60000 > 60 ) {\n            seconds = getRandomTimeout();\n        }\n\n        return seconds;\n    }\n\n    function update () {\n        var previousCount = storage.list.length;\n\n        // console.log('channels:updater: was length: ' + previousCount);\n\n        getChannels({}, function ( error ) {\n            if ( error ) {\n                // console.log('channels:updater: error updating channels');\n            }\n\n            // console.log('channels:updater: new length: ' + storage.list.length);\n            if ( previousCount !== storage.list.length ) {\n                self.emit('update');\n            }\n\n            self.backgroungCheckInterval = setTimeout(update, getRandomTimeout());\n        });\n    }\n\n    this.backgroungCheckInterval = setTimeout(update, getRandomTimeout());\n};\n\n\nProvider.prototype.stopBackgroundCheck = function () {\n    clearTimeout(this.backgroungCheckInterval);\n};\n\nfunction getAppProvider ( config, callback ) {\n    var provider = new Provider();\n\n\n    instanceList.push(provider);\n\n    callback(null, provider);\n}\n\nmodule.exports = getAppProvider;\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\n\n/**\n * Base Events Emitter implementation.\n *\n * @see http://nodejs.org/api/events.html\n * @constructor\n *\n * @example\n * var emitter = new Emitter();\n */\nfunction Emitter () {\n    console.assert(typeof this === 'object', 'must be constructed via new');\n\n    // if ( DEVELOP ) {\n    //     if ( typeof this !== 'object' ) { throw new Error(__filename + ': must be constructed via new'); }\n    // }\n\n    /**\n     * Inner hash table for event names and linked callbacks.\n     * Manual editing should be avoided.\n     *\n     * @member {Object.<string, function[]>}\n     *\n     * @example\n     * {\n     *     click: [\n     *         function click1 () { ... },\n     *         function click2 () { ... }\n     *     ],\n     *     keydown: [\n     *         function () { ... }\n     *     ]\n     * }\n     **/\n    this.events = {};\n}\n\n\nEmitter.prototype = {\n    /**\n     * Bind an event to the given callback function.\n     * The same callback function can be added multiple times for the same event name.\n     *\n     * @param {string} name event identifier\n     * @param {function} callback function to call on this event\n     *\n     * @example\n     * emitter.addListener('click', function ( data ) { ... });\n     * // one more click handler\n     * emitter.addListener('click', function ( data ) { ... });\n     */\n    addListener: function ( name, callback ) {\n        console.assert(arguments.length === 2, 'wrong arguments number');\n        console.assert(typeof name === 'string', 'wrong name type');\n        console.assert(name.length > 0, 'empty name');\n        console.assert(typeof callback === 'function', 'callback should be a function');\n\n        // if ( DEVELOP ) {\n        //     if ( arguments.length !== 2 ) { throw new Error(__filename + ': wrong arguments number'); }\n        //     if ( typeof name !== 'string' || name.length === 0 ) { throw new Error(__filename + ': wrong or empty name'); }\n        //     if ( typeof callback !== 'function' ) { throw new Error(__filename + ': wrong callback type'); }\n        // }\n\n        // initialization may be required\n        this.events[name] = this.events[name] || [];\n        // append this new event to the list\n        this.events[name].push(callback);\n    },\n\n\n    /**\n     * Add a one time listener for the event.\n     * This listener is invoked only the next time the event is fired, after which it is removed.\n     *\n     * @param {string} name event identifier\n     * @param {function} callback function to call on this event\n     *\n     * @example\n     * emitter.once('click', function ( data ) { ... });\n     */\n    once: function ( name, callback ) {\n        // current execution context\n        var self = this;\n\n        if ( DEVELOP ) {\n            if ( arguments.length !== 2 ) {\n                throw new Error(__filename + ': wrong arguments number');\n            }\n            if ( typeof name !== 'string' || name.length === 0 ) {\n                throw new Error(__filename + ': wrong or empty name');\n            }\n            if ( typeof callback !== 'function' ) {\n                throw new Error(__filename + ': wrong callback type');\n            }\n        }\n\n        // initialization may be required\n        this.events[name] = this.events[name] || [];\n        // append this new event to the list\n        this.events[name].push(function onceWrapper () {\n            self.removeListener(name, onceWrapper);\n            callback.apply(self, arguments);\n        });\n    },\n\n\n    /**\n     * Apply multiple listeners at once.\n     *\n     * @param {Object} callbacks event names with callbacks\n     *\n     * @example\n     * emitter.addListeners({\n     *     click: function ( data ) {},\n     *     close: function ( data ) {}\n     * });\n     */\n    addListeners: function ( callbacks ) {\n        var name;\n\n        if ( DEVELOP ) {\n            if ( arguments.length !== 1 ) {\n                throw new Error(__filename + ': wrong arguments number');\n            }\n            if ( typeof callbacks !== 'object' ) {\n                throw new Error(__filename + ': wrong callbacks type');\n            }\n            if ( Object.keys(callbacks).length === 0 ) {\n                throw new Error(__filename + ': no callbacks given');\n            }\n        }\n\n        for ( name in callbacks ) {\n            if ( callbacks.hasOwnProperty(name) ) {\n                this.addListener(name, callbacks[name]);\n            }\n        }\n    },\n\n\n    /**\n     * Remove all instances of the given callback.\n     *\n     * @param {string} name event identifier\n     * @param {function} callback function to remove\n     *\n     * @example\n     * emitter.removeListener('click', func1);\n     */\n    removeListener: function ( name, callback ) {\n        if ( DEVELOP ) {\n            if ( arguments.length !== 2 ) {\n                throw new Error(__filename + ': wrong arguments number');\n            }\n            if ( typeof name !== 'string' || name.length === 0 ) {\n                throw new Error(__filename + ': wrong or empty name');\n            }\n            if ( typeof callback !== 'function' ) {\n                throw new Error(__filename + ': wrong callback type');\n            }\n            if ( this.events[name] && !Array.isArray(this.events[name]) ) {\n                throw new Error(__filename + ': corrupted inner data');\n            }\n        }\n\n        // the event exists and should have some callbacks\n        if ( this.events[name] ) {\n            // rework the callback list to exclude the given one\n            this.events[name] = this.events[name].filter(function callbacksFilter ( fn ) { return fn !== callback; });\n            // event has no more callbacks so clean it\n            if ( this.events[name].length === 0 ) {\n                // as if there were no listeners at all\n                this.events[name] = undefined;\n            }\n        }\n    },\n\n\n    /**\n     * Remove all callbacks for the given event name.\n     * Without event name clears all events.\n     *\n     * @param {string} [name] event identifier\n     *\n     * @example\n     * emitter.removeAllListeners('click');\n     * emitter.removeAllListeners();\n     *\n     * @deprecated\n     */\n    /*removeAllListeners: function ( name ) {\n        if ( DEVELOP ) {\n            if ( arguments.length !== 0 && (typeof name !== 'string' || name.length === 0) ) {\n                throw new Error(__filename + ': wrong or empty name');\n            }\n        }\n\n        // check input\n        if ( arguments.length === 0 ) {\n            // no arguments so remove everything\n            this.events = {};\n        } else if ( name ) {\n            if ( DEVELOP ) {\n                if ( this.events[name] ) { throw new Error(__filename + ': event is not removed'); }\n            }\n\n            // only name is given so remove all callbacks for the given event\n            // but object structure modification should be avoided\n            this.events[name] = undefined;\n        }\n    },*/\n\n\n    /**\n     * Execute each of the listeners in the given order with the supplied arguments.\n     *\n     * @param {string} name event identifier\n     *\n     * @example\n     * emitter.emit('init');\n     * emitter.emit('click', {src: panel1, dst: panel2});\n     * emitter.emit('load', error, data);\n     *\n     * // it's a good idea to emit event only when there are some listeners\n     * if ( this.events['click'] ) {\n     *     this.emit('click', {event: event});\n     * }\n     */\n    emit: function ( name ) {\n        var event = this.events[name],\n            index;\n\n        if ( DEVELOP ) {\n            if ( arguments.length < 1 ) {\n                throw new Error(__filename + ': wrong arguments number');\n            }\n            if ( typeof name !== 'string' || name.length === 0 ) {\n                throw new Error(__filename + ': wrong or empty name');\n            }\n        }\n\n        // the event exists and should have some callbacks\n        if ( event ) {\n            if ( DEVELOP ) {\n                if ( !Array.isArray(event) ) {\n                    throw new Error(__filename + ': wrong event type');\n                }\n            }\n\n            for ( index = 0; index < event.length; index++ ) {\n                if ( DEVELOP ) {\n                    if ( typeof event[index] !== 'function' ) {\n                        throw new Error(__filename + ': wrong event callback type');\n                    }\n                }\n\n                // invoke the callback with parameters\n                event[index].apply(this, Array.prototype.slice.call(arguments, 1));\n            }\n        }\n    }\n};\n\n\n// correct constructor name\nEmitter.prototype.constructor = Emitter;\n\n\n// public\nmodule.exports = Emitter;\n","/**\n * Global application configuration.\n * Can store run-time options, API urls, paths, execution flags and so on.\n */\n\n'use strict';\n\n// public\nmodule.exports = {\n    language: localStorage.getItem('language') || navigator.language.split('-')[0].toLowerCase() || 'en',\n\n    // list of supported languages\n    supportedLanguages: [\n        {code: 'ru', title: 'rus'},\n        {code: 'en', title: 'eng'}\n    ],\n\n    host: DEVELOP ?\n        'http://10.110.51.11/'\n        : location.protocol + '//' + location.host + '/',\n    user: {},\n\n    // program list update interval in ms\n    programListUpdateInterval: 5 * 60 * 1000,\n\n    // time after channel playing to set as last played\n    saveLastChannelTimeout: 3000,\n\n    // license key length to validate\n    licenseKeyLength: 12\n};\n","/**\n * This file was generated automatically. Do not edit it anyway.\n */\n\n'use strict';\n\nmodule.exports = {\n    errors: {\n        ERROR_NEED_LICENSE_KEY: 0,\n        ERROR_ACCOUNT_DISABLED: 1,\n        ERROR_WRONG_LICENSE_KEY: 2,\n        ERROR_WRONG_LOGIN: 3,\n        ERROR_WRONG_META_DATA: 4,\n        ERROR_WRONG_OPERATOR_ID: 5\n    },\n    map: {\n        'Automatic activation code issuing disabled for user.': 0,\n        'Account is disabled': 1,\n        'License key not found': 2,\n        'Username or password is incorrect': 3,\n        'Meta data mismatch': 4,\n        'Operator ID mismatch': 5\n    }\n};\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nmodule.exports = _inheritsLoose;","/**\n * @author Aleynikov Boris <aleynikov.boris@gmail.com>.\n */\n\n'use strict';\n\nconst\n    Component = require('../component'),\n    List      = require('../components/list');\n\n\nclass Select extends Component {\n    constructor ( config = {} ) {\n        let list = new List({\n                modifiers: ['select'],\n                hidden: true,\n                render: ( $item, data ) => ($item.innerText = data.label)\n            }),\n            html = (\n                <div>\n                    <div link=\"$value\" className=\"select__value\"></div>\n                    {list}\n                </div>\n            ),\n            self;\n\n\n        config.$node = html.$node;\n        config.name = config.name || 'select';\n\n        super(config);\n\n        self = this;\n\n        this.links = html.links;\n        this.links.list = list;\n\n        this.private.data = [];\n        this.private.current = config.current;\n\n        this.current = config.current;\n\n        if ( config.data ) {\n            this.data = config.data;\n        }\n\n        this.$node.addEventListener('click', function () {\n            self.links.list.hidden = !self.links.list.hidden;\n        });\n\n        list.addListener('focus:item', function ( element ) {\n            self.links.$value.innerText = element.label || '';\n            self.emit('focus:item', element);\n        });\n    }\n\n    set data ( array ) {\n        if ( !Array.isArray(array) ) {\n            throw new Error(__filename + ': wrong data type');\n        }\n\n        this.private.data = array;\n        this.links.list.data = array;\n    }\n\n    get data () {\n        return this.private.data;\n    }\n\n    get current () {\n        return this.private.current;\n    }\n\n    set current ( value ) {\n        if ( value ) {\n            this.private.current = value;\n            this.links.$value.innerText = value.label;\n        }\n    }\n}\n\n\nmodule.exports = Select;\n","/**\n *\n * @author Aleynikov Boris <aleynikov.boris@gmail.com>.\n */\n\n'use strict';\n\nvar request = window.core.backend.request;\n\n\nfunction Epg ( config ) {\n    config = config || {};\n\n    /**\n     * Is epg can be downloaded\n     */\n    this.downloadable = config.downloadable;\n\n    /**\n     * Start time ms\n     */\n    this.start = config.start;\n\n    /**\n     * End time ms\n     */\n    this.end = config.end;\n\n    /**\n     * Epg title\n     */\n    this.title = config.name;\n\n    /**\n     * Id\n     */\n    this.id = config.id;\n\n    /**\n     * Is epg in archive\n     */\n    this.archive = config.in_archive;\n\n    /**\n     * Link to channel\n     */\n    this.channel = config.channel;\n}\n\n\nEpg.prototype = {};\nEpg.prototype.constructor = Epg;\n\n/**\n * Return link object contains type, id, and url\n *\n * @param {Function} callback - callback after getting link\n */\nEpg.prototype.getLink = function ( callback ) {\n    var url = 'tv-channels/' + this.channel.id + '/epg/' + this.id + '/link';\n\n    request(url, {\n        onload: function ( error, response ) {\n            if ( error ) {\n                callback(true, null);\n            } else {\n                callback(false, response.data);\n            }\n        },\n        onerror: function () {\n            callback(true, null);\n        }\n    });\n};\n\nmodule.exports = Epg;\n","/**\n *\n * @author Aleynikov Boris <aleynikov.boris@gmail.com>.\n */\n\n'use strict';\n\nvar storage;\n\nfunction findByProperty ( propertyName ) {\n\n    return function ( prop ) {\n        var length,\n            index,\n            element;\n\n        length = storage.list.length;\n\n        for ( index = 0; index < length; index++ ) {\n            element = storage.list[index];\n            if (\n                element[propertyName] !== undefined\n                && element[propertyName].toString() === prop.toString()\n            ) {\n\n                return element;\n            }\n        }\n\n        return false;\n    };\n}\n\n\nstorage = {\n\n    list: [],\n\n    findByNumber: findByProperty('number')\n};\n\n\nmodule.exports = storage;\n","/**\n * @author Aleynikov Boris <aleynikov.boris@gmail.com>.\n */\n\n'use strict';\n\nconst\n    Component       = require('../component'),\n    List            = require('./list'),\n    Select          = require('./select'),\n    app             = require('../../app'),\n    backend         = require('../api/backend'),\n\n    menu = new List({\n        modifiers: ['header'],\n        hidden: true,\n        data: [\n            {text: gettext('Profile'), action: () => (app.tabSet.current = app.pages.profile)},\n            {text: gettext('Sign out'), action: backend.signOut}\n        ],\n        render: ($item, data) => ($item.innerText = data.text)\n    }),\n    languageSelect = new Select({\n        data: app.config.supportedLanguages.map(language => ({label: language.title.toUpperCase(), value: language})),\n        events: {\n            'focus:item': data => {\n                if ( data.value.code !== app.config.language ) {\n                    localStorage.setItem('language', data.value.code);\n                    location.reload();\n                }\n            }\n        }\n    }),\n    html = (\n        <div>\n            <div className=\"header__content\">\n                <img link=\"$logo\" className=\"header__logo\" src='./img/logo.placeholder.svg'/>\n                <div link=\"$tvChannel\" className=\"header__menu-item\">{gettext('TV channels')}</div>\n                <div className=\"header__menu-item header__menu-item--disabled\">{gettext('Video club')}</div>\n                <div className=\"header__user\">\n                    <div className=\"header__user-logo\"></div>\n                    <div link=\"$userName\" className=\"header__user-name\">John doe</div>\n                    {menu}\n                </div>\n                {languageSelect}\n            </div>\n        </div>\n    ),\n    header = new Component({\n        name: 'header',\n        hidden: true,\n        $node: html.$node\n    });\n\n\n// language select start initialization\n{\n    languageSelect.$node.classList.add('header__select');\n    languageSelect.current = languageSelect.data[languageSelect.data.findIndex(data => data.value.code === app.config.language)];\n}\n\n// set header module getters and setters\nObject.defineProperties(header, {\n    userName: {\n        set: name => {\n            header.private.userName = name;\n            html.links.$userName.innerText = name;\n        },\n        get: () => header.private.userName\n    },\n\n    logo: {\n        set: path => {\n            header.private.logoPath = path;\n            html.links.$logo.src = path;\n        },\n        get: () => header.private.logoPath\n    }\n});\n\n\n// add components listeners\n{\n    menu.addListener('focus:item', element => {\n        element.action && element.action();\n\n        // focus:item event will not fire if we click on focused item, so we need to reset this value\n        menu.$focusItem = null;\n    });\n\n    html.links.$userName.addEventListener('click', () => {\n        menu.hidden = !menu.hidden;\n    });\n\n    html.links.$tvChannel.addEventListener('click', () => {\n        if ( app.tabSet.current !== app.pages.channels ) {\n            app.tabSet.current = app.pages.channels;\n        }\n    });\n\n    document.addEventListener('click', event => {\n        if ( event.target !== html.links.$userName ) {\n            menu.hidden = true;\n        }\n\n        if ( event.target !== languageSelect.links.$value ) {\n            languageSelect.links.list.hidden = true;\n        }\n    });\n}\n\n\nmodule.exports = header;\n","/**\n * Main application entry point.\n */\n\n'use strict';\n\nconst\n    gettext = require('spa-gettext'),\n    TabSet  = require('./lib/components/tab-set'),\n    app     = require('./app'),\n    backend = require('./lib/api/backend'),\n    spinner = require('./lib/spinner');\n\n\n// load localization\ngettext.load({name: app.config.language}, function () {\n    let pages  = {},\n        tabSet = new TabSet({\n            $node: document.body,\n            content: [\n                pages.login = require('./pages/login'),\n                pages.channels = require('./pages/channels'),\n                pages.profile = require('./pages/profile')\n            ]\n        });\n\n    app.tabSet = tabSet;\n    app.pages = pages;\n    app.header = require('./lib/components/header');\n\n    app.addListener('authorization:login', function () {\n        app.header.userName = app.user.login;\n\n        backend.getAllUserInfo().then(userInfo => {\n            pages.profile.init(userInfo);\n\n            if ( userInfo.logoPath ) {\n                app.header.logo = userInfo.logoPath;\n            }\n        });\n    });\n\n    // when auth error happend we must show login page\n    app.addListener('authorization:error', () => backend.signOut());\n\n    document.body.appendChild(require('./lib/spinner').$node);\n    document.body.appendChild(app.header.$node);\n\n    spinner.show();\n    backend.init().then(function ( result ) {\n        spinner.hide();\n\n        if ( result.state === backend.STATE_NOT_AUTHORIZED ) {\n            tabSet.current = pages.login;\n        } else if ( result.state === backend.STATE_AUTHORIZED ) {\n            tabSet.current = pages.channels;\n        }\n    });\n});\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Emitter = require('cjs-emitter'),\n    Gettext = require('cjs-gettext'),\n    loader  = new Emitter();\n\n\n/**\n * Wrap the given data with gettext instance\n * and export methods to the global scope.\n *\n * @param {Object} [data] localization data\n *\n * @return {Gettext} gettext instance\n */\nfunction prepare ( data ) {\n    var gettext = new Gettext(data);\n\n    // make it global\n    window.gettext  = window._ = gettext.gettext;\n    window.pgettext = gettext.pgettext;\n    window.ngettext = gettext.ngettext;\n\n    return gettext;\n}\n\n\n/**\n * Main application language\n */\nloader.defaultLanguage = 'en';\n\n\n/**\n * Simple gettext implementation.\n *\n * @param {Object} config options\n * @param {string} [config.path=lang] relative path to project root\n * @param {string} config.name language name\n * @param {string} [config.ext=json] language file extension\n * @param {function} callback hook on ready\n *\n * @return {boolean} flag is ajax request was made\n */\nloader.load = function ( config, callback ) {\n    var xhr;\n\n    if ( DEVELOP ) {\n        if ( !config.name || typeof config.name !== 'string' ) {\n            throw new Error(__filename + ': config.name must be a nonempty string');\n        }\n        if ( typeof callback !== 'function' ) {\n            throw new Error(__filename + ': wrong callback type');\n        }\n    }\n\n    // defaults\n    config.ext  = config.ext  || 'json';\n    config.path = config.path || 'lang';\n\n    // is it necessary to request a localization file?\n    if ( config.name === loader.defaultLanguage ) {\n        // no\n        prepare();\n        callback(null);\n\n        return false;\n    }\n\n    // yes\n    xhr = new XMLHttpRequest();\n\n    xhr.onload = function () {\n        var json;\n\n        try {\n            json = JSON.parse(xhr.responseText);\n\n            prepare(json);\n            callback(null);\n\n            // there are some listeners\n            if ( loader.events['load'] ) {\n                // notify listeners\n                loader.emit('load');\n            }\n        } catch ( error ) {\n            xhr.onerror(error);\n        }\n    };\n\n    xhr.ontimeout = xhr.onerror = function ( error ) {\n        prepare();\n        callback(error);\n\n        // there are some listeners\n        if ( loader.events['error'] ) {\n            // notify listeners\n            loader.emit('error', error);\n        }\n    };\n\n    xhr.open('GET', config.path + '/' + config.name + '.' + config.ext, true);\n    xhr.send(null);\n\n    return true;\n};\n\n\n// public\nmodule.exports = loader;\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\n\n/**\n * Translations handler.\n *\n * @constructor\n *\n * @param {Object} config init parameters\n */\nfunction Gettext ( config ) {\n    var data, meta;\n\n    // sanitize\n    config   = config || {};\n    data     = config.data || {};\n    data[''] = data[''] || {};\n\n    // shortcut\n    meta = config.meta;\n\n    /**\n     * Display the native language translation of a textual message.\n     *\n     * @param {string} msgId textual message\n     *\n     * @return {string} translated text\n     */\n    this.gettext = function ( msgId ) {\n        return data[''][msgId] || msgId;\n    };\n\n\n    /**\n     * The \"p\" in \"pgettext\" stands for \"particular\": fetches a particular translation of the textual message.\n     *\n     * @param {string} context message context\n     * @param {string} msgId textual message\n     *\n     * @return {string} translated text\n     */\n    this.pgettext = function ( context, msgId ) {\n        return data[context] && data[context][msgId] || msgId;\n    };\n\n\n    /**\n     * Display the native language translation of a textual message whose grammatical form depends on a number.\n     *\n     * @param {string} msgId textual message in a singular form\n     * @param {string} plural textual message in a plural form\n     * @param {number} value message number\n     *\n     * @return {string} translated text\n     */\n    this.ngettext = function ( msgId, plural, value ) {\n        /* eslint no-unused-vars: 0 */\n        /* eslint no-eval: 0 */\n        /* eslint id-length: 0 */\n        var n, evalResult;\n\n        if ( DEVELOP ) {\n            if ( Number(value) !== value ) {\n                throw new Error(__filename + ': value must be a number');\n            }\n        }\n\n        if ( data && meta && data[''][msgId] ) {\n            evalResult = eval('n = ' + value + '; ' + meta.plural);\n\n            if ( typeof evalResult === 'boolean' ) {\n                evalResult = +evalResult;\n            }\n\n            // translation\n            return data[''][msgId][evalResult];\n        }\n\n        // english\n        return value === 1 ? msgId : plural;\n    };\n}\n\n\n// correct constructor name\nGettext.prototype.constructor = Gettext;\n\n\n// public\nmodule.exports = Gettext;\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\nvar Component = require('../component');\n\n\nfunction TabSet ( config ) {\n    // parent constructor call\n    Component.call(this, config);\n\n    this.private.current = null;\n}\n\n\n// inheritance\nTabSet.prototype = Object.create(Component.prototype);\nTabSet.prototype.constructor = TabSet;\n\n// set component name\nTabSet.prototype.name = 'tab-set';\n\n\nObject.defineProperties(TabSet.prototype, {\n    current: {\n        get: function () {\n            return this.private.current;\n        },\n        set: function ( current ) {\n            var previous = this.private.current;\n\n            // nothing has changed\n            if ( current === previous ) {\n                console.warn('current: current and new values are identical', current, this);\n            } else {\n                // hide current visible tab\n                previous && (previous.hidden = true);\n\n                // show new\n                this.private.current = current;\n                current.hidden = false;\n\n                // notify listeners\n                this.events.switch && this.emit('switch', previous, current);\n            }\n        }\n    }\n});\n\n\nTabSet.prototype.add = function () {\n    var index, tab;\n\n    // walk through all the given elements\n    for ( index = 0; index < arguments.length; index++ ) {\n        tab = arguments[index];\n\n        // all tabs are hidden from the start\n        tab.hidden = true;\n\n        // apply\n        this.$node.appendChild(tab.$node);\n    }\n};\n\n\n// public\nmodule.exports = TabSet;\n","module.exports = require(\"regenerator-runtime\");\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// This method of obtaining a reference to the global object needs to be\n// kept identical to the way it is obtained in runtime.js\nvar g = (function() {\n  return this || (typeof self === \"object\" && self);\n})() || Function(\"return this\")();\n\n// Use `getOwnPropertyNames` because not all browsers support calling\n// `hasOwnProperty` on the global `self` object in a worker. See #183.\nvar hadRuntime = g.regeneratorRuntime &&\n  Object.getOwnPropertyNames(g).indexOf(\"regeneratorRuntime\") >= 0;\n\n// Save the old regeneratorRuntime in case it needs to be restored later.\nvar oldRuntime = hadRuntime && g.regeneratorRuntime;\n\n// Force reevalutation of runtime.js.\ng.regeneratorRuntime = undefined;\n\nmodule.exports = require(\"./runtime\");\n\nif (hadRuntime) {\n  // Restore the original runtime.\n  g.regeneratorRuntime = oldRuntime;\n} else {\n  // Remove the global property added by runtime.js.\n  try {\n    delete g.regeneratorRuntime;\n  } catch(e) {\n    g.regeneratorRuntime = undefined;\n  }\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // In sloppy mode, unbound `this` refers to the global object, fallback to\n  // Function constructor if we're in global strict mode. That is sadly a form\n  // of indirect eval which violates Content Security Policy.\n  (function() {\n    return this || (typeof self === \"object\" && self);\n  })() || Function(\"return this\")()\n);\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","'use strict';\n\n/* eslint no-empty-function: 0 */\n\nvar deviceApi = require('./device.api'),\n    defaults     = {\n        method: 'GET',  /* HTTP method to use, such as \"GET\", \"POST\", \"PUT\", \"DELETE\", etc. */\n        async: true,   /* whether or not to perform the operation asynchronously */\n        headers: {},     /* list of HTTP request headers */\n        data: null,   /* data to send (plain object) */\n        timeout: 30000,  /* amount of milliseconds a request can take before being terminated */\n        type: 'text',\n        onload: function () {},   /* callback when the request has successfully completed */\n        onerror: function () {},   /* callback when the request has failed  */\n        ontimeout: null    /* callback when the author specified timeout has passed before the request could complete */\n    },\n    app = require('../../app'),\n    defaultsKeys = Object.keys(defaults),\n    requestStack = [],\n    locked       = false,\n    api          = {\n        host: null,\n        authHost: null,\n        lang: 'en',\n        session: {\n            account: null,\n            accessToken: null,\n            refreshToken: null,\n            userId: null,\n            macAlgorithm: null,\n            macKey: null\n        },\n        /* eslint max-lines-per-function: 0  */\n        request: function ( url, options, afterRefresh ) {\n            var client = fetch(),\n                index, headersKeys;\n\n\n            if ( locked ) {\n                requestStack.push({\n                    url: url,\n                    options: options\n                });\n\n                return;\n            }\n\n            locked = true;\n            options = options || {};\n\n            if ( url && (typeof url === 'string' || url instanceof String) && url.length > 0 ) {\n                if ( options && typeof options === 'object' ) {\n                    for ( index = 0; index < defaultsKeys.length; index++ ) {\n                        // in case not redefined\n                        if ( options[defaultsKeys[index]] === undefined ) {\n                            options[defaultsKeys[index]] = defaults[defaultsKeys[index]];\n                        }\n                    }\n                }\n\n                client = fetch();\n                // api.session.account.address = api.session.account.address.replace('stalker_portal/', '');\n                require('./shared.backend').instance.host = api.host;\n                api.authHost = api.host + '/stalker_portal/auth/token.php';\n                client.open(options.method, api.host + '/stalker_portal/api/v3/' + url, options.async);\n\n                client.setRequestHeader('Authorization', 'Bearer ' + api.session.accessToken);\n                client.setRequestHeader('Content-Type', 'application/json');\n                client.setRequestHeader('Accept-Language', app.stalker.lang);\n\n                if ( options.headers && typeof options.headers === 'object' ) {\n                    headersKeys = Object.keys(options.headers);\n                    for ( index = 0; index < headersKeys.length; index++ ) {\n                        client.setRequestHeader(headersKeys[index], options.headers[headersKeys[index]]);\n                    }\n                }\n\n                client.responseType = options.type;\n                client.timeout = options.timeout;\n\n                client.onreadystatechange = function onreadystatechange () {\n                    var data = false;\n\n                    if ( this.readyState === 0 ) {\n                        locked = false;\n                        if ( requestStack.length > 0 ) {\n                            data = requestStack.shift();\n                            app.stalker.request(data.url, data.options);\n                        }\n                    } else if ( this.readyState === 4 ) {\n                        if ( this.status === 0 ) {\n                            locked = false;\n                            if ( requestStack.length > 0 ) {\n                                data = requestStack.shift();\n                                app.stalker.request(data.url, data.options);\n                            }\n                        } else if ( this.status === 200 ) {\n                            try {\n                                data = JSON.parse(this.responseText);\n                            } catch ( error ) {\n                                data = false;\n                                console.log(error);\n                            }\n\n                            try {\n                                options.onload(!data, data);\n                            } catch ( exception ) {\n                                if ( app.stalker.onfail ) {\n                                    app.stalker.onfail('Exception thrown ' + exception.message);\n                                }\n                                if ( options.onerror ) {\n                                    try {\n                                        options.onerror.call(client);\n                                    } catch ( error ) {\n                                        console.log(error);\n                                    }\n                                }\n                            }\n\n                            locked = false;\n                            if ( requestStack.length > 0 ) {\n                                data = requestStack.shift();\n                                app.stalker.request(data.url, data.options);\n                            }\n                        } else if ( this.status === 401 ) {\n                            if (\n                                app.stalker.session\n                                && app.stalker.session.refreshToken\n                                && app.stalker.session.account\n                                && app.stalker.session.account.activationCode\n                            ) {\n                                if ( afterRefresh ) {\n                                    app.stalker.oncredenitalsrequired(function () {\n                                        locked = false;\n                                        app.stalker.request(url, options);\n                                    });\n\n                                    return;\n                                }\n                                app.stalker.auth.refreshToken(app.stalker.session.refreshToken, function ( error ) {\n                                    if ( error ) {\n                                        if ( error.error === 'invalid_grant' ) {\n                                            app.stalker.oncredenitalsrequired(function () {\n                                                locked = false;\n                                                app.stalker.request(url, options);\n                                            });\n                                        } else if ( error.error === 'access_denied' && error.error_description === 'Account disabled') {\n                                            app.stalker.reload();\n                                        } else {\n                                            locked = false;\n                                            app.stalker.request(url, options);\n                                        }\n                                    } else {\n                                        locked = false;\n                                        app.stalker.request(url, options, true);\n                                    }\n                                });\n                            } else {\n                                app.stalker.oncredenitalsrequired(function () {\n                                    locked = false;\n                                    app.stalker.request(url, options);\n                                });\n                            }\n                        } else {\n                            locked = false;\n\n                            try {\n                                options.onload(this.status, this.responseText);\n                            } catch ( onLoadException ) {\n                                if ( app.stalker.onfail ) {\n                                    app.stalker.onfail('Exception thrown ' + onLoadException.message);\n                                }\n                                if ( options.onerror ) {\n                                    try {\n                                        options.onerror.call(client);\n                                    } catch ( error ) {\n                                        console.log(error);\n                                    }\n                                }\n                            }\n\n                            if ( requestStack.length > 0 ) {\n                                data = requestStack.shift();\n                                app.stalker.request(data.url, data.options);\n                            }\n                        }\n                    }\n                };\n\n                client.onerror = function () {\n                    if ( options.onerror ) {\n                        try { options.onerror.call(client); } catch ( err ) { /* */ }\n                    }\n                    if ( app.stalker.onfail ) {\n                        app.stalker.onfail('Network error ' + client.status);\n                    }\n                };\n\n                client.ontimeout = function () {\n                    if ( options.ontimeout ) {\n                        try { options.ontimeout.call(client); } catch ( err ) { /* */ }\n                    }\n                };\n\n                client.send(options.body || null);\n\n                /* eslint consistent-return: 0 */\n                return client;\n            }\n        }\n    };\n\napi.auth = {\n    login: function ( credentials, callback ) {\n        var client    = fetch(),\n            postData = ['grant_type=password', 'hw_version=', 'serial_number='],\n            ready = 0,\n            total    = 5,\n            timer    = setTimeout(function () {\n                client.abort();\n                callback('onerror ' + client.status + ' : ' + client.responseText, false);\n            }, 6000);\n\n        postData.push('username=' + encodeURIComponent(credentials.login));\n        postData.push('password=' + encodeURIComponent(credentials.password));\n        postData.push('activation_code=' + encodeURIComponent(credentials.activationCode));\n\n\n        credentials.address = credentials.address.replace('/stalker_portal/', '');\n        api.host = credentials.address;\n        require('./shared.backend').instance.host = api.host;\n        api.authHost = credentials.address + '/stalker_portal/auth/token.php';\n        client.open('POST', credentials.address + '/stalker_portal/auth/token.php', true);\n\n        client.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n\n        client.timeout = 5000;\n        client.onreadystatechange = function () {\n            var data;\n\n            clearTimeout(timer);\n\n            if ( this.readyState !== 4 ) {\n                return;\n            }\n\n            // window.top.alert(\"login responseText \" + this.responseText);\n            //alert(\"login status \" + this.status);\n            if ( this.status === 200 ) {\n                try {\n                    data = JSON.parse(this.responseText);\n                    //alert(JSON.stringify(data));\n                } catch ( parseException ) {\n                    console.log(parseException);\n                    //alert(e.toString())\n                    data = {};\n                }\n\n                if ( data.access_token && data.user_id ) {\n                    app.stalker.session = {\n                        account: credentials,\n                        accessToken: null,\n                        refreshToken: null,\n                        userId: null,\n                        macAlgorithm: null,\n                        macKey: null\n                    };\n\n                    if ( data.activation_code ) {\n                        app.stalker.session.account.activationCode = data.activation_code;\n                    }\n\n                    app.stalker.session.accessToken = data.access_token;\n                    app.stalker.session.refreshToken = data.refresh_token;\n                    app.stalker.session.userId = data.user_id;\n                    if ( data.mac_algorithm ) {\n                        app.stalker.session.macAlgorithm = data.mac_algorithm;\n                    }\n                    if ( data.mac_key ) {\n                        app.stalker.session.macKey = data.api.mac_key;\n                        app.stalker.session.macAlgorithm = api.mac_algorithm;\n                    }\n                    if ( data.api && data.api.v3 ) {\n                        app.stalker.session.macKey = data.api.v3.mac_key;\n                        app.stalker.session.macAlgorithm = data.api.v3.mac_algorithm;\n                    } else {\n                        // old ministra server\n                        callback(['404']);\n\n                        return;\n                    }\n\n                    if ( app.stalker.saveCallback ) {\n                        app.stalker.saveCallback();\n                    }\n                    callback(false, data);\n                } else {\n                    callback(data, data);\n                }\n            } else {\n                callback(this.status + ' : ' + this.responseText, {});\n            }\n        };\n\n        client.onerror = function () {\n            callback('onerror ' + this.status + ' : ' + this.responseText, false);\n        };\n\n        deviceApi.clientType(function ( someProblem, data ) {\n            postData.push('client_type=' + encodeURIComponent(data));\n\n            ++ready;\n            if ( ready === total ) {\n                client.send(postData.join('&'));\n            }\n        });\n        // deviceApi.metric1(function ( someProblem, data ) {\n        //     postData.push('meta_1=' + encodeURIComponent(data));\n        //\n        //     ++ready;\n        //     if ( ready === total ) {\n        //         client.send(postData.join('&'));\n        //     }\n        // });\n        //credentials.login\n        // deviceApi.metric2(function ( someProblem, data ) {\n        //     postData.push('meta_2=' + encodeURIComponent(data));\n        //\n        //     ++ready;\n        //     if ( ready === total ) {\n        //         client.send(postData.join('&'));\n        //     }\n        // });\n\n        postData.push('meta_1=' + encodeURIComponent(credentials.login));\n        ++ready;\n        postData.push('meta_2=' + encodeURIComponent(credentials.login));\n        ++ready;\n\n        deviceApi.metric3(function ( someProblem, data ) {\n            postData.push('meta_3=' + encodeURIComponent(data));\n\n            ++ready;\n            if ( ready === total ) {\n                client.send(postData.join('&'));\n            }\n        });\n        deviceApi.network.mac(function ( someProblem, data ) {\n            postData.push('mac=' + encodeURIComponent(data));\n\n            ++ready;\n            if ( ready === total ) {\n                client.send(postData.join('&'));\n            }\n            // window.top.alert(postData.join('&'))\n        });\n\n    },\n    refreshToken: function ( refreshToken, callback ) {\n        var client    = fetch(),\n            ready = 0,\n            total = 5,\n            postData  = [\n                'grant_type=refresh_token',\n                'hw_version=',\n                'refresh_token=' + app.stalker.session.refreshToken,\n                'activation_code=' + encodeURIComponent(app.stalker.session.account.activationCode)\n            ];\n\n\n        postData.push();\n        client.open('POST', api.host + '/stalker_portal/auth/token.php', true);\n        require('./shared.backend').instance.host = api.host;\n        api.authHost = api.host + '/stalker_portal/auth/token.php';\n\n        client.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n\n        client.onload = function () {\n            var data;\n\n            //alert(\"refresh token status \" + this.status);\n            if ( this.status === 200 ) {\n                try {\n                    data = JSON.parse(this.responseText);\n                } catch ( error ) {\n                    console.log(error);\n                    data = {};\n                }\n\n                //alert(\"refresh token responseText \" + this.responseText);\n                if ( data.access_token && data.user_id ) {\n                    app.stalker.session.accessToken = data.access_token;\n                    app.stalker.session.refreshToken = data.refresh_token;\n                    app.stalker.session.userId = data.user_id;\n                    if ( data.mac_algorithm ) {\n                        app.stalker.session.macAlgorithm = data.mac_algorithm;\n                    }\n                    if ( data.mac_key ) {\n                        app.stalker.session.macKey = app.stalker.mac_key;\n                        app.stalker.session.macAlgorithm = app.stalker.mac_algorithm;\n                    }\n                    if ( data.api && data.api.v3 ) {\n                        app.stalker.session.macKey = data.api.v3.mac_key;\n                        app.stalker.session.macAlgorithm = data.api.v3.mac_algorithm;\n                    }\n                    if ( app.stalker.saveCallback ) {\n                        app.stalker.saveCallback();\n                    }\n                    callback(false);\n                } else {\n                    callback(data, data);\n                }\n            } else {\n                callback(this.status + ' : ' + this.responseText, {});\n            }\n        };\n\n        client.onerror = function () {\n            //alert('onerror');\n            callback(true, {});\n        };\n\n\n        deviceApi.clientType(function ( someProblem, data ) {\n            postData.push('client_type=' + encodeURIComponent(data));\n\n            ++ready;\n            if ( ready === total ) {\n                client.send(postData.join('&'));\n            }\n        });\n        deviceApi.metric1(function ( someProblem, data ) {\n            postData.push('meta_1=' + encodeURIComponent(data));\n\n            ++ready;\n            if ( ready === total ) {\n                client.send(postData.join('&'));\n            }\n        });\n        deviceApi.metric2(function ( someProblem, data ) {\n            postData.push('meta_2=' + encodeURIComponent(data));\n\n            ++ready;\n            if ( ready === total ) {\n                client.send(postData.join('&'));\n            }\n        });\n        deviceApi.metric3(function ( someProblem, data ) {\n            postData.push('meta_3=' + encodeURIComponent(data));\n\n            ++ready;\n            if ( ready === total ) {\n                client.send(postData.join('&'));\n            }\n        });\n        deviceApi.network.mac(function ( someProblem, data ) {\n            postData.push('mac=' + encodeURIComponent(data));\n\n            ++ready;\n            if ( ready === total ) {\n                client.send(postData.join('&'));\n            }\n        });\n    }\n};\n\nwindow.fetch = function () {\n    return new XMLHttpRequest();\n};\n\nmodule.exports = api;\n","/**\n * @author Aleynikov Boris <aleynikov.boris@gmail.com>.\n */\n\n'use strict';\n\nconst\n    CLIENT_TYPE = 'Web',\n    METRIC1 = '',\n    METRIC2 = '',\n    METRIC3 = 'Web',\n    MAC     = '11:11:11:11:11:11';\n\n\nmodule.exports = {\n    clientType: done => done(false, CLIENT_TYPE),\n    metric1: done => done(false, METRIC1),\n    metric2: done => done(false, METRIC2),\n    metric3: done => done(false, METRIC3),\n    network: {\n        mac: done => done(false, MAC)\n    }\n};\n","/**\n * Login page implementation.\n */\n\n'use strict';\n\nconst\n    keys                = require('spa-keys'),\n    format              = require('cjs-format'),\n    app                 = require('../app'),\n    Component           = require('../lib/component'),\n    Input               = require('../lib/components/input'),\n    Button              = require('../lib/components/button'),\n\n    backend             = require('../lib/api/backend'),\n    spinner             = require('../lib/spinner'),\n\n    authErrors          = require('../lib/api/statuses').errors,\n\n    STATE_INPUT_LOGIN   = Symbol('input_login'),\n    STATE_INPUT_LICENSE = Symbol('input_license');\n\n\nlet text = {},\n    inputs = {},\n    buttons = {},\n    credentialsData = {},\n    page,\n    content,\n    state;\n\n\nfunction tagB ( innerText, className ) {\n    return '<b class=\"' + className + '\">' + innerText + '</b>';\n}\n\n\nfunction validateInput ( input, minimalLength = 1 ) {\n    if ( input.value.trim().length < minimalLength ) {\n        input.state = input.STATE_ERROR;\n    } else {\n        input.state = input.STATE_NORMAL;\n    }\n\n    return input.value.trim().length >= minimalLength;\n}\n\n\nfunction setState ( newState ) {\n    state = newState;\n\n    switch ( state ) {\n        case STATE_INPUT_LOGIN:\n            content.links.$text.innerHTML = text.login;\n            inputs.license.hidden = true;\n            inputs.login.hidden = false;\n            inputs.login.password = false;\n            break;\n        case STATE_INPUT_LICENSE:\n            inputs.login.hidden = true;\n            inputs.password.hidden = true;\n            inputs.license.hidden = false;\n            content.links.$text.innerHTML = text.license;\n            break;\n    }\n}\n\n\nfunction processAuthError ( error ) {\n    spinner.hide();\n    switch ( error.state ) {\n        case authErrors.ERROR_WRONG_LOGIN:\n            content.links.$loginError.innerText = gettext('Incorrect login or password');\n            content.links.$loginError.classList.add('welcome__error--visible');\n            break;\n        case authErrors.ERROR_ACCOUNT_DISABLED:\n            content.links.$loginError.innerText = gettext('Account is disabled');\n            content.links.$loginError.classList.add('welcome__error--visible');\n            break;\n        case authErrors.ERROR_NEED_LICENSE_KEY:\n            setState(STATE_INPUT_LICENSE);\n            break;\n        case authErrors.ERROR_WRONG_LICENSE_KEY:\n            content.links.$loginError.innerText = gettext('License key not found');\n            content.links.$loginError.classList.add('welcome__error--visible');\n            break;\n        case authErrors.ERROR_WRONG_META_DATA:\n            content.links.$loginError.innerText = gettext('The License Key you’ve entered has already been activated on another device. Please contact the key provider.');\n            content.links.$loginError.classList.add('welcome__error--visible');\n            break;\n        case authErrors.ERROR_WRONG_OPERATOR_ID:\n            content.links.$loginError.innerText = gettext('The License Key doesn\\'t work for this portal. Please contact your service provider.');\n            content.links.$loginError.classList.add('welcome__error--visible');\n            break;\n        default:\n            content.links.$loginError.innerText = gettext('Undefined error');\n            content.links.$loginError.classList.add('welcome__error--visible');\n            break;\n    }\n}\n\n\nfunction loginHandler () {\n    let login     = inputs.login.value,\n        password  = inputs.password.value;\n\n    if ( validateInput(inputs.login) && validateInput(inputs.password) ) {\n        credentialsData.login = login;\n        credentialsData.password = password;\n        content.links.$loginError.classList.remove('welcome__error--visible');\n        if ( state === STATE_INPUT_LICENSE ) {\n            if ( !validateInput(inputs.license, app.config.licenseKeyLength) ) {\n                content.links.$loginError.innerText = gettext('License Key must have 12 symbols');\n                content.links.$loginError.classList.add('welcome__error--visible');\n\n                return;\n            }\n            credentialsData.activationCode = inputs.license.value;\n        }\n\n        spinner.show();\n        backend.login(credentialsData)\n            .then(() => {\n                spinner.hide();\n                app.tabSet.current = app.pages.channels;\n            })\n            .catch(processAuthError);\n    }\n}\n\n\nfunction inputKeydownHandler ( event ) {\n    event.keyCode === keys.enter && loginHandler();\n}\n\n\ntext.login = format(\n    gettext('Contact your service provider and request {0} and {1} from them .'),\n    tagB(gettext('login')),\n    tagB(gettext('password'))\n);\ntext.license = format(\n    gettext('Contact your service provider and request {0} from them.'),\n    tagB(gettext('license key'))\n);\n\ninputs.login = new Input({\n    label: gettext('Login'),\n    // defined only in develop mode\n    value: app.config.user.login,\n    events: {keydown: inputKeydownHandler}\n});\n\ninputs.password = new Input({\n    label: gettext('Password'),\n    type: 'password',\n    // defined only in develop mode\n    value: app.config.user.password,\n    events: {keydown: inputKeydownHandler}\n});\n\ninputs.license = new Input({\n    label: gettext('License key'),\n    // defined only in develop mode\n    value: app.config.user.activationKey,\n    events: {keydown: inputKeydownHandler}\n});\n\nbuttons.login = new Button({\n    title: gettext('Sign in'),\n    events: {\n        click: loginHandler\n    }\n});\n\n\n/* eslint max-len: 0*/\ncontent = (\n    <div>\n        <div className=\"welcome\">\n            <img className=\"welcome__logo\" src=\"./img/ministra.logo.svg\"></img>\n            <div className=\"welcome__title\">{gettext('Welcome to Ministra Player')}</div>\n            <div link=\"$text\" className=\"welcome__text text text--hint\"></div>\n            <div className=\"welcome__error\" link=\"$loginError\"></div>\n            <div className=\"welcome__error\" link=\"$licenseError\">{gettext('The License Key has been suspended. Please contact your service provider.')}</div>\n            {inputs.login}\n            {inputs.password}\n            {inputs.license}\n            {buttons.login}\n        </div>\n    </div>\n);\n\n\npage = new Component({\n    name: 'page',\n    modifiers: ['login'],\n    $node: content.$node\n});\n\nsetState(STATE_INPUT_LOGIN);\n\n// public\nmodule.exports = page;\n","/**\n * Global list of non-printable control key codes.\n *\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n * @license GNU GENERAL PUBLIC LICENSE Version 3\n */\n\n'use strict';\n\n// public\nmodule.exports = {\n    backspace: 8,\n    tab:       9,\n    enter:     13,\n    escape:    27,\n    space:     32,\n    pageUp:    33,\n    pageDown:  34,\n    end:       35,\n    home:      36,\n    left:      37,\n    up:        38,\n    right:     39,\n    down:      40,\n    insert:    45,\n    // not \"delete\" because of old browsers issue\n    del:       46\n};\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\n\n/**\n * Do string substitution according to the given format.\n * http://stackoverflow.com/questions/610406/javascript-equivalent-to-printf-string-format\n *\n * @param {string} format string substitution format\n *\n * @return {string} result data\n */\nmodule.exports = function ( format ) {\n    var args = Array.prototype.slice.call(arguments, 1),\n        expr = /{(\\d+)}/g;\n\n    if ( DEVELOP ) {\n        if ( !format ) {\n            throw new Error(__filename + ': format string is empty');\n        }\n        if ( args.length === 0 ) {\n            throw new Error(__filename + ': no arguments');\n        }\n        if ( !expr.test(format) ) {\n            throw new Error(__filename + ': format string does not have substitutions: ' + format);\n        }\n    }\n\n    return format.replace(expr, function ( match, number ) {\n        return args[number] === undefined ? match : args[number];\n    });\n};\n","/**\n * @author Aleynikov Boris <aleynikov.boris@gmail.com>.\n */\n\n'use strict';\n\nvar Component = require('../component');\n\n\nclass Input extends Component {\n    constructor ( config ) {\n        let html;\n\n        config = config || {};\n        config.type = config.type || 'text';\n\n        html = (\n            <div>\n                <div link=\"$label\" className = {config.label ? 'input__label' : 'input__label--hidden'} >{config.label}</div>\n                <input link=\"$value\" className=\"input__value\" type={config.type}>{config.value || '' }</input>\n            </div>\n        );\n\n        config.$node = html.$node;\n\n        super(config);\n\n        this.links = html.links;\n        this.private.state = this.STATE_NORMAL;\n\n        this.links.$value.addEventListener('change', () => {\n            if ( this.events.change ) {\n                this.emit('change', {value: this.$node.value});\n            }\n        });\n\n        this.links.$value.addEventListener('keydown', event => {\n            if ( this.events.keydown ) {\n                this.emit('keydown', event);\n            }\n        });\n\n        if ( config.placeholder ) {\n            this.links.$value.placeholder = config.placeholder;\n        }\n\n        if ( config.value ) {\n            this.links.$value.value = config.value;\n        }\n    }\n\n    get value () {\n        return this.links.$value.value;\n    }\n\n    set state ( state ) {\n        switch ( state ) {\n            case this.STATE_ERROR:\n                this.links.$value.className = 'input__value input__value--error';\n                break;\n            case this.STATE_NORMAL:\n                this.links.$value.className = 'input__value';\n                break;\n        }\n\n        this.private.state = state;\n    }\n\n    get state () {\n        return this.private.state;\n    }\n}\n\nInput.prototype.STATE_NORMAL = 0;\nInput.prototype.STATE_ERROR = 1;\nInput.prototype.name = 'input';\n\nmodule.exports = Input;\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\nvar Component = require('../component');\n\n\n/**\n * Base button implementation.\n *\n * Has global options:\n *     Button.prototype.clickDuration - time to apply \"click\" class, does not apply if 0\n *\n * @constructor\n * @extends Component\n *\n * @param {Object} [config={}] - init parameters (all inherited from the parent)\n * @param {string} [config.value] - button caption text (generated if not set)\n * @param {string} [config.icon] - button icon name\n *\n * @example\n * var Button = require('stb/ui/button'),\n *     btnSimple, btnIcon, btnDetached;\n *\n * btnSimple = new Button({\n *     $node: document.getElementById('btnSimple'),\n *     value: 'Simple button'\n * });\n *\n * btnIcon = new Button({\n *     $node: document.getElementById('btnIcon'),\n *     icon: 'menu'\n *     value: 'Button with icon'\n * });\n *\n * btnDetached = new Button({\n *     value: 'Button not added to the page',\n *     className: 'wide'\n * });\n */\nfunction Button ( config ) {\n    var self = this;\n\n    console.assert(typeof this === 'object', 'must be constructed via new');\n    console.assert(typeof config === 'object', 'wrong config type');\n\n    //config.name = 'spa-component-button' + (config.className || '');\n\n    // set default className if classList property empty or undefined\n    //config.className = this.name + ' ' + (config.className || '');\n\n    config.focusable = true;\n\n    // parent constructor call\n    Component.call(this, config);\n\n    // optional dom\n    // if ( config.icon ) {\n    //     // insert icon\n    //     this.$icon = this.$body.appendChild(document.createElement('div'));\n    //     this.$icon.className = 'icon ' + config.icon;\n    // }\n    //\n    // // insert caption placeholder\n    // this.$text = this.$body.appendChild(document.createElement('div'));\n    // this.$text.classList.add('text');\n\n    if ( config.title ) {\n        // fill it\n        this.$node.textContent = config.title;\n    }\n\n    this.$node.addEventListener('click', function ( event ) {\n        console.log('button node click', event);\n\n        self.events.click && self.emit('click', event);\n    });\n\n    // if ( DEVELOP ) {\n    //     window.ComponentButton = Button;\n    // }\n}\n\n\n// inheritance\nButton.prototype = Object.create(Component.prototype);\nButton.prototype.constructor = Button;\n\n// set component name\nButton.prototype.name = 'button';\n\n\n/*Button.prototype.render = function ( $node, data ) {\n    // store\n    this.private.data = data;\n\n    // build\n    $node.textContent = data.title;\n};*/\n\n\n// time to apply \"click\" class, does not apply if 0\n//Button.prototype.clickDuration = 200;\n\n\n/**\n * List of all default event callbacks.\n *\n * @type {Object.<string, function>}\n */\n// Button.prototype.defaultEvents = {\n//     /**\n//      * Default method to handle mouse click events.\n//      */\n//     click: function () {\n//         // current execution context\n//         var self = this;\n//\n//         this.$node.classList.add('click');\n//\n//         setTimeout(function () {\n//             self.$node.classList.remove('click');\n//         }, this.clickDuration);\n//     },\n//\n//     /**\n//      * Default method to handle keyboard keydown events.\n//      *\n//      * @param {Object} event generated event\n//      */\n//     keydown: function ( event ) {\n//         if ( event.code === keys.enter ) {\n//             // emulate click\n//             // there are some listeners\n//             if ( this.events['click'] ) {\n//                 /**\n//                  * Mouse click event emulation.\n//                  *\n//                  * @event module:stb/ui/button~Button#click\n//                  *\n//                  * @type {Object}\n//                  * @property {Event} event click event data\n//                  */\n//                 this.emit('click', {event: event});\n//             }\n//         }\n//     }\n// };\n\n\n// public\nmodule.exports = Button;\n","/**\n * @author Aleynikov Boris <aleynikov.boris@gmail.com>.\n */\n\n'use strict';\n\nfunction onProgramFocus ( program ) {\n    if ( program.archive ) {\n        program.getLink((error, data) => {\n            if ( !error && data && data.url ) {\n                player.playEpgProgram({uri: data.url});\n            }\n        });\n    } else {\n        player.playChannel(channelList.data[channelList.focusIndex]);\n    }\n}\n\nfunction onChannelFocus ( channel ) {\n    let today = new Date(),\n        todayStart = new Date(today.getFullYear(), today.getMonth(), today.getDate()).getTime() / 1000,\n        nextDayStart = new Date(today.getFullYear(), today.getMonth(), today.getDate() + 1).getTime() / 1000;\n\n    player.playChannel(channel);\n\n    channel.getEpg({from: todayStart, to: nextDayStart}, (error, programs) => {\n        if ( error ) {\n            console.error(error);\n            programList.data = [];\n        } else {\n            programList.data = programs;\n        }\n    });\n}\n\n/**\n * Player's 'end' event handler\n * On this page we may catch 'end' event only when playing tv archive.\n */\nfunction onContentEnd () {\n    console.log('end');\n    if ( programList.data[programList.focusIndex + 1] ) {\n        programList.focusIndex++;\n    } else {\n        // play realtime channel\n        player.playChannel(channelList.data[channelList.focusIndex]);\n    }\n}\n\n\nconst\n    Component = require('../lib/component'),\n    Select = require('../lib/components/select'),\n    provider = require('../lib/api/tv.provider'),\n    header = require('../lib/components/header'),\n    spinner = require('../lib/spinner'),\n    player = require('../lib/player'),\n    channelList = require('../lib/components/channel.list'),\n    programList = require('../lib/components/program.list'),\n\n    categorySelect = new Select({\n        events: {\n            'focus:item': function ( element ) {\n                spinner.show();\n                provider.getChannels({genre: element.value.id})\n                    .then(channels => {\n                        channelList.data = channels;\n                        spinner.hide();\n                    });\n            }\n        }\n    }),\n    content = (\n        <div>\n            <div className=\"page__channel-list channel-list\">\n                {categorySelect}\n                {channelList}\n            </div>\n            {player}\n            <div className=\"page__program-list program-list\">\n                <div className=\"program-list__title\">\n                    {gettext('Guide')}\n                </div>\n                {programList}\n            </div>\n        </div>\n    ),\n    page = new Component({\n        $node: content.$node,\n        name: 'page',\n        modifiers: ['channels', 'padded']\n    });\n\n\nplayer.init();\nplayer.addListener('click:live', () => {\n    player.playChannel(channelList.data[channelList.focusIndex]);\n    programList.focusIndex = null;\n});\n\n\npage.addListeners({\n    show: () => {\n        header.hidden = false;\n        spinner.show();\n        player.addListener('end', onContentEnd);\n\n        provider.getChannels().then(channels => {\n            channelList.data = channels;\n            spinner.hide();\n\n            provider.getLastChannelId().then(lastId => {\n                let index = channelList.data.findIndex(channel => channel.id === lastId);\n\n                if ( index === -1 ) {\n                    index = 0;\n                }\n\n                channelList.focusIndex = index;\n            }).catch(() => {\n                channelList.focusIndex = 0;\n            });\n\n            // once page was shown we must play content and pause to draw preview image\n            // make setTimeout because on play event first frame is not drawn\n            player.once('play', () => {\n                setTimeout(() => {\n                    player.plugin.pause();\n                });\n            });\n\n        });\n\n        provider.getCategories().then(categories => {\n            categories = categories.map(category => {\n                return {\n                    label: category.name,\n                    value: category\n                };\n            });\n\n            categorySelect.data = [\n                {\n                    label: gettext('All channels'),\n                    value: {id: null}\n                }\n            ].concat(categories);\n\n            categorySelect.current = categorySelect.data[0];\n        });\n    },\n\n    hide: () => {\n        player.removeListener('end', onContentEnd);\n        player.pause();\n    }\n});\n\n\n// prepare channels page\n{\n    categorySelect.$node.classList.add('channel-list__select');\n    channelList.addListener('focus:item', onChannelFocus);\n    programList.addListener('focus:item', onProgramFocus);\n}\n\nif ( DEVELOP ) {\n    window.player = player;\n}\n\n\nmodule.exports = page;\n","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","/**\n * @author Aleynikov Boris <aleynikov.boris@gmail.com>.\n */\n\n'use strict';\n\nlet provider = require('../../../../../plugin-backend-tv-stalker/src/js/main'),\n    plugin;\n\n\nprovider.onAppInit(false, function ( error, worker ) {\n    plugin = worker;\n});\n\n\nmodule.exports = {\n    getChannels: ( config = {} ) => {\n        return new Promise((resolve, reject) => {\n            plugin.updateChannelsList(function () {\n                plugin.getChannels(config, function ( error, data ) {\n                    if ( error ) {\n                        reject(error);\n                    } else {\n                        resolve(data);\n                    }\n                });\n            });\n        });\n    },\n\n    getCategories: () => new Promise((resolve, reject) => {\n        plugin.getCategories(function ( error, data ) {\n            if ( error ) {\n                reject();\n            } else {\n                resolve(data);\n            }\n        });\n    }),\n\n    getLastChannelId: () => new Promise((resolve, reject) => {\n        plugin.getLastChannelId((error, data) => {\n            if ( error ) {\n                reject(error);\n            } else {\n                resolve(Number(data));\n            }\n        });\n    })\n};\n","/**\n *  Tv - channels plugin or system module implementation\n */\n\n'use strict';\n\nmodule.exports = {\n    onAppInit: function ( config, callback ) {\n        var appPlugin = require('./stalker');\n\n        appPlugin(config, callback);\n    },\n    onInit: require('./daemon.stalker'),\n    onContentBoardInit: function ( dump, done ) {\n        require('./leanback')(dump, done);\n    }\n};\n","/**\n *\n * @author Aleynikov Boris <alynikov.boris@gmail.com>.\n */\n\n'use strict';\n\nvar request = window.core.backend.request,\n    Epg = require('./epg.class');\n\nfunction Channel ( config ) {\n    var prop;\n\n    config = config || {};\n\n    if ( TARGET === 'smart') {\n        config.pvr = config.local_pvr = false; // eslint-disable-line\n    }\n\n    for ( prop in config ) {\n        this[prop] = config[prop];\n    }\n}\n\n\nChannel.prototype = {};\nChannel.prototype.constructor = Channel;\n\n/**\n * Toggle favorite state\n *\n * @param {Function} callback - callback after toggle\n */\nChannel.prototype.toggleFavorite = function ( callback ) {\n    var self = this;\n\n    request('tv-channels/' + this.id, {\n        method: 'PUT',\n        body: JSON.stringify({favorite: !self.favorite}),\n        onload: function ( error ) {\n            if ( error ) {\n                callback(true);\n            } else {\n                self.favorite = !self.favorite;\n                callback(false, self.favorite);\n            }\n        },\n        onerror: function () {\n            callback(true);\n        }\n    });\n};\n\nChannel.prototype.getUrl = function ( callback ) {\n    if ( this.url ) {\n        callback(false, {url: this.url, solution: this.solution});\n    } else {\n        request('tv-channels/' + this.id + '/link', {\n            onload: function ( error, response ) {\n                if ( error ) {\n                    callback(error, null);\n                } else {\n                    callback(false, {url: response.data.url, solution: response.data.solution});\n                }\n            },\n            onerror: function () {\n                callback(true, null);\n            }\n        });\n    }\n};\n\n\nChannel.prototype.getEpg = function ( config, cb ) {\n    var self = this,\n        now = new Date(),\n        url, from, to;\n\n    config = config || {};\n\n    // use 7 days before current and next 7 days to get epg\n    from = +new Date(now.getFullYear(), now.getMonth(), now.getDate() - 7);\n    to =  +new Date(now.getFullYear(), now.getMonth(), now.getDate() + 7);\n    from = Math.round(from / 1000);\n    to  = Math.round(to / 1000);\n\n    from = config.from || from;\n    to = config.to || to;\n\n    url = 'tv-channels/' + this.id + '/epg/?from=' + from + '&to=' + to;\n    request(url, {\n        onload: function ( error, response ) {\n            var result = [];\n\n            if ( error && cb ) {\n                cb(true, []);\n            } else {\n                response.data.forEach(function ( epgData ) {\n                    epgData.channel = self;\n                    result.push(new Epg(epgData));\n                });\n                cb(false, result);\n            }\n        },\n        onerror: function () {\n            cb(true, []);\n        }\n    });\n};\n\nChannel.prototype.setLast = function ( cb ) {\n    request('storage', {\n        body: JSON.stringify({value: this.id, key: 'lastChannel'}),\n        method: 'POST',\n        onload: function ( error ) {\n            if ( error && cb ) {\n                cb(error);\n            } else if ( cb ) {\n                cb(false);\n            }\n        },\n        onerror: function () { if ( cb ) { cb(true, null); } }\n    });\n};\n\n\nmodule.exports = Channel;\n","/**\n *\n * @author Aleynikov Boris <aleynikov.boris@gmail.com>.\n */\n\n'use strict';\n\nvar Emitter               = require('cjs-emitter'),\n    storage               = require('./data.storage'),\n\n    // constants\n    EVENT_BACKEND_LOAD    = 'system:start',\n    EVENT_MESSAGE_RECEIVE = 'play_channel',\n    TV_APP_NAME           = 'magcore-app-tv',\n    CLASSIC_TV_APP_NAME   = 'magcore-app-tv-classic',\n\n    appsConfig            = {\n        /* here will be apps configs */\n    };\n\nfunction isAppRunning ( appName ) {\n\n    return (core.taskManager.topApp && core.taskManager.topApp.config.packageName === appName);\n}\n\n\nfunction sendPlayChannelEvent ( channelToPlay ) {\n    var targetApp,\n        channelToCheckCensored;\n\n    // if we are watching TV Classic app we do not need do checks\n    if ( isAppRunning(CLASSIC_TV_APP_NAME) ) {\n        targetApp = appsConfig.CLASSIC_TV;\n    } else if ( isAppRunning(TV_APP_NAME) ) {\n        // if we are watching TV app we do not need do checks\n        targetApp = appsConfig.TV;\n    } else if ( appsConfig.CLASSIC_TV && !appsConfig.CLASSIC_TV.locked ) {\n        // if classic tv is present and not under parent password\n        targetApp = appsConfig.CLASSIC_TV;\n    } else if ( appsConfig.TV && (!appsConfig.TV.locked || isAppRunning(TV_APP_NAME))) {\n        // if tv app is present and not under parent password\n        targetApp = appsConfig.TV;\n    } else {\n        console.log('we cant send message to tv apps :(');\n    }\n\n    channelToCheckCensored = storage.findByNumber(channelToPlay);\n\n    if (\n        channelToCheckCensored\n        && (channelToCheckCensored.censored || ( channelToCheckCensored.genre && channelToCheckCensored.genre.censored ))\n    ) {\n        // this channel is under parent control and we should do nothing\n        return;\n    }\n\n    core.taskManager.runApp({\n        config: targetApp,\n        ignoreAccessControl: true,\n        visible: true,\n        onload: function ( app ) {\n            setTimeout(function () {\n                app.core.emit('play:channel', {number: parseInt(channelToPlay, 10)});\n            }, 100);\n        }\n    });\n}\n\n\n// window.top.qm = {\n//     START_POINT_TIMESTAMP: +new Date(),\n//     send: function ( n ) {\n//         sendPlayChannelEvent(n);\n//     },\n//     storage: storage\n// };\n\nmodule.exports = function ( config, callback ) {\n    var hardcodeLoader = new Emitter();\n\n\n    hardcodeLoader.once(EVENT_BACKEND_LOAD, function () {\n        // find apps links\n        appsConfig.TV = core.packageMap[TV_APP_NAME];\n        appsConfig.CLASSIC_TV = core.packageMap[CLASSIC_TV_APP_NAME];\n\n        // get app provider to force update channel list\n        require('./stalker')(config, function ( error, appProvider ) {\n            if ( error ) {\n                console.log('error getting provider');\n            }\n            appProvider.updateChannelsList(function () {\n                window.core.backend.addListener('message', function ( message ) {\n                    if ( message && message.type === EVENT_MESSAGE_RECEIVE ) {\n                        // here we have channel id or number to play\n                        sendPlayChannelEvent(message.msg);\n                    }\n                });\n\n            });\n        });\n    });\n\n    if ( callback ) {\n        callback(false, hardcodeLoader);\n    }\n\n};\n","/**\n *\n * @author Aleynikov Boris <aleynikov.boris@gmail.com>.\n */\n\n'use strict';\n\n/* eslint max-len:0*/\n\nvar Emitter        = require('cjs-emitter'),\n    getAppProvider = require('./stalker'),\n    leanback       = require('magcore-plugin-content-board/index'),\n\n    LEANBACK_CHANNELS_COUNT = 10,\n    // LEANBACK_ITEM_COLOR     = '#0193d5',\n    providerIcons = {\n        480: {\n            normal: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAb5JREFUWAntVr1Kw1AUTtKf2KAdYhcHEQdBBHH2ARw6dBQtIu6+hBk6+wq6CQWnPoVPoOAoDjZ0CSSlxCR+B3NKS2/SXHqLDgnc3r9zvu/c7557bzVN0wwUpV+SJBbKte/7O0uAjSoM4iVGUtOe523HcXwFJ9s0TcJ/yAGIyUDZFwTBbqPR6CIAUuCzUqn0l4EXkn88Hu8B8NJ13a0swMlkcoQV36TkbyB/1HXdz7Ln8UIB1Gq1MwAftlqtWwRyzM5ch2F4Wq/Xz9GvYv6l1+v1QR7y/Mo1rRzA3SiKHCpoXwyHw03HcQy02+nYHQUiS6bLOIDsBPZtqLFhGEaA9hfa+6i/0X/Gql9l8MhWKgByGI1GTdu2OyA+oD6+APv/ZFnWx29X7lcn+eRc1FoXSkK1lPNo03sAx8aZn1pvj5X/PwrwepHplFyUZE0eW6XG6fDgP8AJeRfhiBRQRk6E6UI6InIam+YAG/DKVeUE7TVjMsdsLVJgdn7t7TKAUoFSgVKBUoGFt4BeL7q7+b1WcRenL6IQSrQFgzwHIUrOID/HWSYLCqTv9n2Wg+pxkQKqOXLx/v5fMRIuN8J1ThL3DwPnuJXTZYA4AAAAAElFTkSuQmCC',\n            active: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAuJJREFUaAXtmb9rFEEUx3dXEdRAIF2wkYAoCGJjKyKmCNhaHKSLlzKllWjl/5BCC8EuYKNtbL3Kwh8gEiyMqIWCcoEIend+Xnhv3dzuunPH7d6M3MKXeTPzfnzfzpvZu90oiqIjwItrMBgcB5vgoiMhb7hHkD4NXvT7fZrBJzDnmMT01SC7DL4q+W/I16bPypEBZG+B30r+JfKSo+lk1Ai4PI4n7ObAlhBX8lv0T47ja2wbAt7R4I+R510doXsGvFbbHvJtV9uJ6hF4A/xSIjvIlacHOtfBd7X5If2JkhrVGQQugy9KaB/5ZpEPxmNwF6B6cNK8RT5XpNv4GEROgedCTMk9pH/CiCDPgyeZ+acyZvNetBA6BjYzJF/RPwvOg3eZ8Xv0Ey9IF5GA3Br4qSvRRe6qvId8o8jGuzGIXgIfMnf9Pf0LdRCNJUgdjpvy6W8tOt6Bo6aXJElscgitVU7wK1CaAJtOHjxt0AEHJ4ltykm24ltjSKyRqyDdxNkSwtEiZfSI9mqT5RTH8TPirdJ+roprJRTZ3TQDuQtgW8a5dkELSEK1XOJbY+xqzG36lSuR8k4FpYdxO0N+oRbWBU6JuwAsiXaByqGhlHcq6DROOppA65BFAx1itzR2pypcyjsV/iZgj/7ayqaMHAksagLdMh0bN965TSwTopTd1GbUROsaP9VrglSdMUqfA3UGHcU3ZbUC5DQUrORsrZZsYrhv4021w/GFuI2JbDxszPsVMMJlbQgJrPNk/iggifXhRGan0PAdabrvfQnJySObVzE7hZqukMp43pcQGcxOocplnKZCCCX0z/vz/yXAI3tPUubcncofGoltHESuuopW4I0aXakyrmHeYhqH6hD2s9Q0ufPB/6kP6rVK7teorITWfxAvtgoT0CTk5ZJ871oD8pWlli/numGl5h+A+/SdXvdL6aMflSYgkz5flkDRKeQz7xy3dAVyM4EMJL1eLxCqeZrC/Q9bOOZ3iNQcwwAAAABJRU5ErkJggg=='\n        },\n        576: {\n            normal: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAb5JREFUWAntVr1Kw1AUTtKf2KAdYhcHEQdBBHH2ARw6dBQtIu6+hBk6+wq6CQWnPoVPoOAoDjZ0CSSlxCR+B3NKS2/SXHqLDgnc3r9zvu/c7557bzVN0wwUpV+SJBbKte/7O0uAjSoM4iVGUtOe523HcXwFJ9s0TcJ/yAGIyUDZFwTBbqPR6CIAUuCzUqn0l4EXkn88Hu8B8NJ13a0swMlkcoQV36TkbyB/1HXdz7Ln8UIB1Gq1MwAftlqtWwRyzM5ch2F4Wq/Xz9GvYv6l1+v1QR7y/Mo1rRzA3SiKHCpoXwyHw03HcQy02+nYHQUiS6bLOIDsBPZtqLFhGEaA9hfa+6i/0X/Gql9l8MhWKgByGI1GTdu2OyA+oD6+APv/ZFnWx29X7lcn+eRc1FoXSkK1lPNo03sAx8aZn1pvj5X/PwrwepHplFyUZE0eW6XG6fDgP8AJeRfhiBRQRk6E6UI6InIam+YAG/DKVeUE7TVjMsdsLVJgdn7t7TKAUoFSgVKBUoGFt4BeL7q7+b1WcRenL6IQSrQFgzwHIUrOID/HWSYLCqTv9n2Wg+pxkQKqOXLx/v5fMRIuN8J1ThL3DwPnuJXTZYA4AAAAAElFTkSuQmCC',\n            active: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAuJJREFUaAXtmb9rFEEUx3dXEdRAIF2wkYAoCGJjKyKmCNhaHKSLlzKllWjl/5BCC8EuYKNtbL3Kwh8gEiyMqIWCcoEIend+Xnhv3dzuunPH7d6M3MKXeTPzfnzfzpvZu90oiqIjwItrMBgcB5vgoiMhb7hHkD4NXvT7fZrBJzDnmMT01SC7DL4q+W/I16bPypEBZG+B30r+JfKSo+lk1Ai4PI4n7ObAlhBX8lv0T47ja2wbAt7R4I+R510doXsGvFbbHvJtV9uJ6hF4A/xSIjvIlacHOtfBd7X5If2JkhrVGQQugy9KaB/5ZpEPxmNwF6B6cNK8RT5XpNv4GEROgedCTMk9pH/CiCDPgyeZ+acyZvNetBA6BjYzJF/RPwvOg3eZ8Xv0Ey9IF5GA3Br4qSvRRe6qvId8o8jGuzGIXgIfMnf9Pf0LdRCNJUgdjpvy6W8tOt6Bo6aXJElscgitVU7wK1CaAJtOHjxt0AEHJ4ltykm24ltjSKyRqyDdxNkSwtEiZfSI9mqT5RTH8TPirdJ+roprJRTZ3TQDuQtgW8a5dkELSEK1XOJbY+xqzG36lSuR8k4FpYdxO0N+oRbWBU6JuwAsiXaByqGhlHcq6DROOppA65BFAx1itzR2pypcyjsV/iZgj/7ayqaMHAksagLdMh0bN965TSwTopTd1GbUROsaP9VrglSdMUqfA3UGHcU3ZbUC5DQUrORsrZZsYrhv4021w/GFuI2JbDxszPsVMMJlbQgJrPNk/iggifXhRGan0PAdabrvfQnJySObVzE7hZqukMp43pcQGcxOocplnKZCCCX0z/vz/yXAI3tPUubcncofGoltHESuuopW4I0aXakyrmHeYhqH6hD2s9Q0ufPB/6kP6rVK7teorITWfxAvtgoT0CTk5ZJ871oD8pWlli/numGl5h+A+/SdXvdL6aMflSYgkz5flkDRKeQz7xy3dAVyM4EMJL1eLxCqeZrC/Q9bOOZ3iNQcwwAAAABJRU5ErkJggg=='\n        },\n        720: {\n            normal: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAA8lJREFUaAXtWctrE0EczsPEqE2LaIW0HlrEB21BiFfBguYkuVStgkel+mf00LNnDz1IL+agRSjioZeIZwsiBiGIPSViUUIfeT/8vnU2LpmUnXQncbd0YDqP/T2+b36/md1OfD6fL4jqitJqtUL1ej25t7cXUwQUDECwoSjcV7FCoXC62Ww+8vv91yKRyMNsNntcwWHDryDUdxGs/AWAvwtHJwKBQKlSqbwCiW8qjv87gVqtdh2gbwIssfzc3d1NjYyM/FYBTxmmkKPC1TuIAaYIdOcB/hb0/WgzqMu9gKdfRxHA6s3C6SyAfA0Gg2+Qv2UVMpA/g5R5ANlR6LewcdOhUOi9im6njKMIAEgZAJoAfgWAnqicHuVy+TJkFwR4pHsldVDwJOMoAjRQKpUmwuHwPXRPgUwdUXmH8Uc+sxaQpa8bAD8r5n8Vi8VUNBrdssr12ndMgA4BbhjNPMCd5xhEPmUymbfT09NVjvE8gmYOzy+JcRYp91o15aizX3GUQqZRANlOp9MvANRYeQC9OjU19Rjjs6jnMF4wwYPch6WlpZc6wNO/lgiYRNgCcBxgb6MbBFgjAhiHMa5hzI3+hXK6inYCBAYS4wB9H12mFksBeyU1NDT04+9Q319/o9FY1Gdu8Ja07IHBw/7n8ZjZxamwaPa90JqZc3gi0Lnq2Ijc4HEwjSM6o+Ik6RRzPOZJBR9b8LEBYxs4pVq9GG2nkFUJ4KMY88UzCYM+tNbHWvtcGPjgqTUOMjPwvYrxjqoTiYBYeQM8DG7D0DrqZi9GVZ1TTizWBLoJLhh8zmFuBf6UItFtD/BFREPb+Xz+OQx97hd4EqBt+qAv+qRvTMf5TKVIBJjzQnF9bGysqGJEh4zwxWj7LBhsTUsEuGGF1qattn4Bw6cFg60HiQBCyO8WI7S22poFzFQ1MaiYlwioKLlJRjqF3ASOWHAiXUSTFLjWEKWs6BuNFyKQREoNs1qItDl4gUAbbLeOFwis8f3ACgJrnSRcvwdEzj/rBG6OvRABE2vX1vURODqFusbNRZNe2ANHp5CLEkaG4oUUklFbZg4fAbyyzRtl/mM/0CL+P+bttoFBxbkUAV5xCMUJFQOaZQyfFgy25iUC4n6GiolcLnfS1oImAeErQXMWDLbWu31KbCCEM/j+nozFYk8R1kFeqwzD93eg5iWXUpEI4OsPmFurMGTcDcHKHVpCWJUM9iqEhWqrCPC82FK6E6KiRICTMLADEisw6M2rRUGCq8CfjFhdW6RN7Fqk+wDz/i801Wq1L7+T7bNgWqeJ/Q+uGajXVAGMsgAAAABJRU5ErkJggg==',\n            active: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAA7dJREFUeAHtmj1oFEEUx/dODYKNSvALLW2CmMo+iIXaWAq2gqV2AQt7iSB2SpqATUq7VAaDFtaWIgoaMV0kEEEw3vl7YSf3nN2b29m93Zvd24U/8/bNzHv/92bn7dxHFEXRIRD81e/3z4DX4PIYydYi9oig58G3Xq9H0/8KTo8xCWGbIthbYFeCN+D+PTg6DubdcRgpywZBLmL7Fe0xy8dP7o9YuubcEvAMWDErrlv0z0D4exeSHfAQHPdZGsbPgnc6aJG5/oB7PrYmOhayj2Lin5AvZSHDuDnwReZpoNsGV7PYCGIMZG+CvyYI5F1w20WO/htgx8wxLbqP4KJrbnB9EF4zAegW/ROQ2L/oHoA9PVZkLnnvnwguwFGEIC1F7IUdUBzUOn2zYoP2sGPcc+kf5SvofgK4C37biUAnh5lrYD2lbw/9/aAD8yFHMFfAph1o2j3jdsB1H/u1GEtQp8CbtKCNjv7PYK4WAeUhSXCy35+agHWL/i3Yrwt5bNdqDoHeAb9MApBXwMykgugIkUk5D8Fv0B+GqkhQm4Aqshyyj8RJq9vtdkImXJSbXfPaLVA0o3Wfn9gCdkC8o8+jWwILyGft/qrvO53OFj43wCLy96L+E+cAXQPi4D/QnizqaNzzCX4bm/O+SfCtAUshBi/JjHnJk1noGlUEFwpZL39ycX7mTG5azdnoTEvW14DUhMov8Sv+DRfT+hIx80zrrAEySDtgv13w3XN6flE5TsKmtqNrltYPkxMx2Qpt0NU3zEHZ+qKcEvPLJhy6/VFFMHT+hfm1CSicwpobaJ+Ami9gYfqNegI4J8gvUo/Bjxgiu79wlfeihk6p1tvvTz2uStnFSYK3+0Wn+dn9XidBfUjSRquU7YXQnOJV/+8jOyfXLXDOcEzMNx3T2jaqBrCIL1MWMk03GGbviUFPFLn69LgqZRcnKXiy5+OtIIUwUQTt+Y2qAVkWQhKgxzVtC+jYMsmNSkCWLZDIir0n9ABXnx5XpeziJHve7hed5mf3N6oGEKwUvvYcoFd8lNyoGkCwae/8NN0gL/aeGPS054D9g5BOiD53a32VsiyY9ufLKTFfG5tG2asGUGEn8qOIWZgy/HslACLLZZAwAbra2O+ya0yePuc5AKeJ92oeJ2XNsT/rZ/HjWwM2shid4JjC/EY9AbLnp/f/AfEPofInhFV53Ca40geu48d+FYX3nyMOjCjB+QSocY0RfWtAYwIfFojva3CYndrqE1ugtpHkJD71T0CbgJxPTmOm/QOvtuGpPSrOfQAAAABJRU5ErkJggg=='\n        },\n        1080: {\n            normal: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAABZNJREFUeAHtXEtrG1cU1suO8Qu31DW2oU0fXkQOJPE2KsUYL0oppGnT4GUXgf6A/oD8jJYsCl2EQkl2LYUstHEXLdQlFC9cDM2mtqjwwpVd2/JD/b7JHHE9mas7utJYo8wdGJ07576+891zHzNzR5lMJpPHmcP5Uh2NRiN3cnLy4fHx8aKlYeQkX8BPwz8ty0leNpAzdHp6eiebzb6DMwOSMgMDA+U2kZKXDAk6azNjopPv7u6+CoArIGbSB9ooFAr/WYD2HCdrkTGxWQ4ODt4cGhq6e3Z2NkyQuVyufnR09Ai6DVvQLw1B9Xr9OrrRRyCHYyqP2uHh4cORkZHt55d2v31PEMabLAbjJXhLSShAuILwQ3Szf0VnK/t69lpfXx+E4Z8FyPlzc3Pzm26QQ1Jj9yBOswA7sbGx8cP8/HzdtiWD+XZ2dsYnJiZWoJ+WOHjTr/l8/ifU17WJJ1aCSA5a930aAFnd29v7fmxs7B8xyFbu7+/PDA8Pr2C8GfPLaKB8EvOLbZm6fLF2MbQox4BTVg5jJkdHR+9hML2hAxNFj1mpCHI+F3JATB0N8V0c5BBPrB7ECkDSLIy5i+A4r3lA99SmyyHfeyhr6Xkp3m9XZiqlvBeCsXoQa0PL/l2tVr+GcX9J7dBdKxaL92q12uuiayXL5XIB+T9WyYHnVHA+6HQab1Uv42L3IAEAA9kYSzDypuhgIHrH8Y+Dg4O/iy4oK5XKyNTUFBd/b0gc8nGmejQ3N3ckurjkhREkBoCoIoy9hWtO0d4BXWiXo4dh3OJg/IqStuszlZQdJi+cIIKA4Ryw6RWvCSh4xblZDqS9i/g7iL/kp4ltphIMYbInBBEICLiEO+5bGI+uCDDpcrhlGAA5H0Dv4YO+43sqqaNd2TOCBCjGoBII4MykwxL7TCVYwqQOVFja2HTwprdR+KfwGu8uXCoCcV27p5Iy25VZuPn9djOlKX3s66B+J9MRZGhBPnJtHrgTvt+8SHFAHXacBxkcwRFkIOhcFwtLiymYS4EFuN0CuuAkpuLmLUJY+l7quKAEzipwrgHHGhah3qubTjC1JAjk8IHUbZDyFirjM51O6oo9LxsPOPl4ZRZkXQX+x7iudVKxtov5nuOR00kFvcrLRkXdt307rGG08qAFvxKvcLQInw4+wfms01axRtsio+/tl5FkGbi9h3PED9wL0P3WImvLKK0HccyRnCRne3v7KxDzRxLJIU7iIj7i9BvTg6/aIfa0I7UEcUBWCnoyMzNj8/pWKeJigj5Oerp3BOwQdWSpJQjuqc5WzyKXmIyETbwBO9pGpyVILSmp3UrFqIa7iTcSQWrlaQs7ggwt7ghyBBkYMESnzoP4EhLPwZexPvqSJ8PU6XjSRugy9Lu+VCpxQ4X68vImdDSruXZSbUydB4GcayoBDIfpJE3qCBLDo8rUEYSV9dMgOWE6SZM6glZXV8sg5GcQsMeTYeqEkKBM3SC9uLh4AhI4IIcOykGCUudBQQJM144gA0OpI8gtFA0e4RaKBoLCFoVhOikmdV1MDI8qU0dQ2KIwTCcEpo4gt1CUptdIt1DUEGOrTl0Xa5coR5CBMUeQI8jAgCHaeZAjyMCAITqSB/l7bwxFJSe6m3i1BOEGTv0A93JyzI+EpIk3YEekzGoiLUF4qVZVEi5vbW2d+45CiUtU0Me5LKACdog6stQ+k+ZOUdzEzbIkyPHp6ekv4Lp8jts3W/CI3d/xyqDVoSUIpa3BPa+CHG6G9EiC+IRhtApFog7gfAEP8PM7WW4Jtj60XQybkLjH+LFfiXUFvcro4+Y24I72SrfyIG9jJLrVt6jMbSTXtbTfAtxGa72VVld2P+i1XawfwF8ERkeQgWX3SaaBoIJMjxiIDUnTFd3kBf/elIgvn5NIP7n5H+JLUcZN4rwRAAAAAElFTkSuQmCC',\n            active: 'data:image/png;base64,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'\n        }\n    };\n\n\nmodule.exports = function ( api, ready ) {\n    var provider  = new Emitter(),\n        imagePath = api.path + '/img/' + screen.height + '/';\n\n    getAppProvider(null, function ( error, appProvider ) {\n        if ( error ) {\n            console.log('error while try to get provider');\n        }\n\n        appProvider.updateChannelsList(function () {\n\n            provider.search = function ( query, doneCallback ) {\n                // do smth\n                doneCallback(false, []);\n            };\n\n\n            provider.icons = providerIcons;\n\n            appProvider.getChannels({favorite: false}, function ( error, startData ) {\n                var dataToSend = startData.slice(0, LEANBACK_CHANNELS_COUNT).map(function ( channel ) {\n                    var icon = {\n                        normal: imagePath + 'placeholder.png',\n                        active: imagePath + 'placeholder-focus.png'\n                    };\n\n                    if ( error ) {\n                        console.log('error getting channels');\n                    }\n\n                    if ( channel.logo ) {\n                        icon = {\n                            normal: core.backend.host + channel.logo,\n                            active: core.backend.host + channel.logo\n                        };\n                    }\n\n\n                    if ( channel.censored || (channel.genre && channel.genre.censored) ) {\n                        icon = {\n                            normal: imagePath + 'parents-control.png',\n                            active: imagePath + 'parents-control-focus.png'\n                        };\n                    }\n\n                    return {\n                        id: channel.id,\n                        layout: leanback.layouts.tvChannel,\n                        geometry: leanback.geometry.horizontal,\n                        data: {\n                            name: channel.name,\n                            number: channel.number,\n                            program: {\n                                name: '',\n                                // float\n                                progress: 0\n                            },\n                            icon: icon,\n                            censored: channel.censored || (channel.genre && channel.genre.censored),\n                            url:  function ( cb ) {\n                                // error, data => {url:'', solution: 'ffmpeg'}\n                                channel.getUrl(cb);\n                            }\n                        },\n                        update: function () {\n                            var self = this;\n\n                            appProvider.getChannelsEpg({channels: [channel]}, function (error, data) {\n                                if ( !error && data && data[channel.id] && data[channel.id][0] ) {\n                                    self.data.program.name = data[channel.id][0].title;\n                                } else {\n                                    self.data.program.name = '';\n                                }\n                            });\n                        },\n                        actions: [leanback.actions.accessControl, leanback.actions.favorite],\n                        onClick: function () {\n                            // intent to player\n                            function sendIntent () {\n                                channel.getUrl(function ( error, data ) {\n                                    if ( !error && data ) {\n                                        core.intent({\n                                            action: 'play',\n                                            mime: 'content/video',\n                                            data: {\n                                                uri: data.url,\n                                                title: channel.name,\n                                                solution: data.solution || 'auto',\n                                                headless: true,\n                                                mediaId: channel.id,\n                                                tvChannel: channel,\n                                                extra: channel.extra,\n                                                retryOnError: true,\n                                                stream: true\n                                            },\n                                            events: {\n\n                                            }\n                                        }, function ( error ) {\n                                            if ( error ) { debug.log('error'); }\n                                            /* do nothing */\n                                        });\n                                    } else {\n                                        console.log('error getting channel url');\n                                    }\n                                });\n                            }\n\n                            if ( channel.censored || (channel.genre && channel.genre.censored) ) {\n                                core.accessControl.request(function ( error ) {\n                                    if ( !error ) {\n                                        sendIntent();\n                                    }\n                                });\n                            } else {\n                                sendIntent();\n                            }\n                        }\n                    };\n                });\n\n                if ( dataToSend.length ) {\n                    dataToSend.push({\n                        id: -1,\n                        layout: leanback.layouts.tvChannel,\n                        data: {\n                            name: 'See more',\n                            icon: {\n                                normal: imagePath + 'see-more-focus.png',\n                                active: imagePath + 'see-more.png'\n                            }\n                        },\n                        runApp: true\n                    });\n                }\n\n                ready(null, {\n                    provider: provider,\n                    data: dataToSend\n                });\n            });\n        });\n    });\n};\n","'use strict';\n\n\n/** @namespace */\nmodule.exports = {\n    layouts: {\n        tvChannel: 1, // tv channel item with playback and epg now\n        video: 2,  // moview preview with play now item\n        record: 3, // audio preview with play now item\n        static: 4, // static item by default\n        application: 5\n    },\n    geometry: {\n        square: 1,\n        horizontal: 2,\n        vertical: 3,\n        round: 4\n    },\n    actions: { // actions which can be applied to item\n        favorite: 1,\n        accessControl: 2,\n        expandItemContent: 3\n    }\n};\n","/**\n * @author Aleynikov Boris <aleynikov.boris@gmail.com>.\n */\n\n'use strict';\n\nconst\n    Emitter = require('cjs-emitter'),\n    config  = require('../config');\n\nlet html = (\n        <div className=\"player\">\n            <div link=\"$title\" className=\"player__title\"></div>\n            <video link=\"$video\" className=\"video-js\" width=\"544\" height=\"322\"></video>\n            <div link=\"$liveButton\" className=\"player__live-button\">{gettext('Live')}</div>\n            <div link=\"$description\" className=\"player__description\"></div>\n        </div>\n    ),\n    player = new Emitter(),\n    lastChannelTimeout,\n    lastPlayedContent;\n\nplayer.$node = html.$node;\nplayer.links = html.links;\n\n\nfunction onPlayHandler ( /*event*/ ) {\n    if ( player.events.play && player.events.play.length ) {\n        player.emit('play');\n    }\n}\n\n\nfunction onPlayEnd () {\n    if ( player.events.end && player.events.end.length ) {\n        player.emit('end');\n    }\n}\n\nplayer.init = function () {\n    /*eslint-disable-next-line*/\n    this.plugin = videojs(html.links.$video, {\n        controls: true,\n        preload: true\n    });\n\n    this.plugin.on('play', onPlayHandler);\n    this.plugin.on('ended', onPlayEnd);\n    this.links.$liveButton.addEventListener('click', () => this.emit('click:live'));\n\n    return html.$node;\n};\n\n\nplayer.playChannel = function ( channel ) {\n    if ( lastPlayedContent === channel ) {\n        return;\n    }\n\n    lastPlayedContent = channel;\n    this.links.$title.innerText = `${channel.number}. ${channel.name}`;\n    this.links.$liveButton.classList.remove('player__live-button--visible');\n\n    channel.getUrl((error, data) => {\n        if ( error ) {\n            console.log(error);\n        }\n\n        this.plugin.src({\n            src: data.url\n        });\n\n        this.plugin.play().then(function () {\n            clearTimeout(lastChannelTimeout);\n            lastChannelTimeout = setTimeout(function () {\n                channel.setLast();\n            }, config.saveLastChannelTimeout);\n        });\n    });\n};\n\n\nplayer.playEpgProgram = function ( playConfig = {} ) {\n    lastPlayedContent = playConfig;\n    this.links.$liveButton.classList.add('player__live-button--visible');\n\n    if ( playConfig.uri ) {\n        this.plugin.src({\n            src: playConfig.uri\n        });\n\n        this.plugin.play();\n    }\n};\n\n\nplayer.pause = function () {\n    this.plugin.pause();\n};\n\nmodule.exports = player;\n","/**\n * @author Aleynikov Boris <aleynikov.boris@gmail.com>.\n */\n\n'use strict';\n\nconst List = require('./list');\n\n\nmodule.exports = new List({\n    modifiers: ['channels'],\n    render: function ( $item, data ) {\n        let html = (\n            <div className=\"channel\" title={data.name}>\n                <div className=\"channel__logo\"></div>\n                <div className=\"channel__name\">{data.number}.{data.name}</div>\n            </div>\n        );\n\n        $item.appendChild(html.$node);\n    }\n});\n","/**\n * @author Aleynikov Boris <aleynikov.boris@gmail.com>.\n */\n\n'use strict';\n\nconst\n    List      = require('./list'),\n    isEnglish = require('../../app').config.language === 'en';\n\n\nfunction convertTime ( time ) {\n    let startTime = new Date(time * 1000),\n        hours = startTime.getHours(),\n        minutes = startTime.getMinutes(),\n        ampm = hours >= 12 ? 'pm' : 'am',\n        result;\n\n    if ( isEnglish ) {\n        hours = hours % 12;\n        hours = hours ? hours : 12;\n    }\n\n    minutes = minutes < 10 ? '0' + minutes : minutes;\n    result = hours + ':' + minutes;\n\n    if ( isEnglish ) {\n        result += ' ' + ampm;\n    }\n\n    return result;\n}\n\n\nfunction findCurrentProgram ( program ) {\n    let nowTime = Date.now() / 1000;\n\n    return program.start < nowTime && program.end > nowTime;\n}\n\n\nlet programList = new List({\n    modifiers: ['program-list'],\n    render: function ( $item, data ) {\n        let\n            className = 'program'\n                 + (data.archive ? ' program--archive' : '')\n                 + (findCurrentProgram(data) ? ' program--current' : ''),\n            html = (\n                <div className={className} title={data.title}>\n                    <div className=\"program__time\">{convertTime(data.start)}</div>\n                    <div className=\"program__name\">{data.title}</div>\n                </div>\n            );\n\n        while ( $item.firstChild ) {\n            $item.removeChild($item.firstChild);\n        }\n\n        $item.appendChild(html.$node);\n    }\n});\n\n\nsetInterval(function () {\n    programList.data.forEach(function ( data, index ) {\n        programList.render(programList.$node.children[index], data);\n    });\n}, require('../../app').config.programListUpdateInterval);\n\n\nmodule.exports = programList;\n","/**\n * @author Aleynikov Boris <aleynikov.boris@gmail.com>.\n */\n\n'use strict';\n\nconst Component = require('../lib/component');\n\n\nlet content = (\n        <div>\n            <div className=\"heading-text\">{gettext('Profile')}</div>\n            <div className=\"labled-text\">\n                <div className=\"labled-text__label\">{gettext('Login')}:</div>\n                <div className=\"labled-text__text\" link=\"$login\"></div>\n            </div>\n            <div className=\"labled-text\">\n                <div className=\"labled-text__label\">{gettext('Tariff plan')}:</div>\n                <div className=\"labled-text__text\" link=\"$tariff\"></div>\n            </div>\n            <div className=\"labled-text\">\n                <div className=\"labled-text__label\">{gettext('End date')}:</div>\n                <div className=\"labled-text__text\" link=\"$endDate\">n/a</div>\n            </div>\n        </div>\n    ),\n    page = new Component({\n        $node: content.$node,\n        name: 'page',\n        modifiers: ['profile', 'padded']\n    });\n\n\npage.init = function ( data ) {\n    content.links.$login.innerText = data.login;\n    content.links.$tariff.innerText = data['tariff_plan'];\n    content.links.$endDate.innerText = data['end_date'] || 'n/a';\n};\n\n\nmodule.exports = page;\n"],"sourceRoot":""}